(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{251:function(e,a,t){},306:function(e,a,t){},307:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAAACeqFUAAADxklEQVRYCbVXW2gTQRSdO7tqKlSkVnyhoohvREWxgSi0WFvfaPVPvyMKTWOKzwoL2lqxtGnjn/+KVdBPjfHRapQg1ieCFf1QRESqVnwkze6Md4MGk97V3WzMT2bOnXvmzMy9d2aBFfALaW3lQ0nWxaRcBwBvJOOhSOveaAFUWRfItmw2Gg51TBKGfk0yNu+3CzBIKaDM72gNvvqNOf3nThyCh9unGMK4+acI018yOUowY4sTrvyxtoUE9ndOMwzRi8cxO5/E7EvJdAq3i9kS0th0coaAdK+UcqYF8aCi8gsWNlvwP4UED7TPSunQg0ueTjFifPzgCmzvaN77lrLbxf4arIGm8ByRTl9HsskUIYr4xhTY2NUSukHZnWCWOxI80r5A6nqPlQgG8FXhfG0xRJiCyR0JHAovkiIdwwAcT60Ka8cXDkpt+HjwLmUvBFPynbBOLBVCj2FOlufbzD4ex2cAVt3ZGkpQ9kKxnB0JHGhbjrsQxbowliJEER+5olSHW4J9lN0Nlo2RhoMdXixUMUsRwD6Aolb+DxHmAjJHE9jf5hNMXsEULaVWhTHxXhmhVIWbg08pezEwCGrtZUZSPMNiNYEixHgYwsDYxTh/TtndYADKQPhooB8XKqH+YNspKeQeN4RufDFIH6oq38QxOyrdELn1xbhcrBsiwrExzS2Ze3+o5Lg1RT97x8KkfIfpCxcdOxbbgUOzWuaZenIg+XoHpu5cK34sZDfwCD9Z2QvH5QDe3Oc7WxqvZiqredXr0riFhBMpUkyvRJmnZLWm7flK2YuBZYSYRJmLztB7rCor1pIYmzxqQ6S+PlWMifM5siW+s6XhMVNhPU74PX9Qpi/ZavZ26Ex3d/ewi5Ic7xDMCjH9uppDdziHrZlqShLJrbfvvz6NVTi7k+SwAsBhq0vcir6s8NU+ZyDrkI+acMnl2J3SRPyqq++YfK3DhJgDErejzypW1r7DlW/Md/jV93p9NUYiHu21sDuGSSEmC4rpq1hV8wOvgGqKFdO5yruy5gOOu0fZnWKWQkwinCRe4avxYNNHEUsG67y+2heJ+JUnlN0J9lchJhFu/7UVvjWTsLmMIMZaJzfjMT5A0f2E3TaUkzVWXuNKGnfjq/0cZcenpSqFOLNPi5CfHJQPhdkSomkgFs4o3YlpfZkiwXgpTaWS2yibXcyWEJPM7/enyzxj6jCh4yS5hBEkbhO0LcTk0zT/99FyDFZfeJTDDywp1JGXcjCHHUdCTO4TJ/yDqodXoZiz2B3ECxEf1MrmyLH6lw7nzhn+E64tNrBaqjbYAAAAAElFTkSuQmCC"},512:function(e,a,t){"use strict";t.r(a);t(112);var n,c,o=t(72),l=t.n(o),r=t(204),i=t.n(r),s=t(205),u=(t(70),t(34)),m=t.n(u),p=t(0),d=t(7),h=t(8),A=t(28),g=t(27),E=t(71),S=t(29),f=t(1),v=t.n(f),b=t(33),C=(t(9),t(18)),k=t(13),w=t(78),N=t(20),y=t(214),O=t.n(y),x=t(215),j=t.n(x),R=t(219),I=t.n(R),G=t(237),T=t.n(G),M=t(238),D=t.n(M),B=t(220),H=t.n(B),W=t(239),L=t.n(W),U=t(244),Z=t.n(U),_=(t(73),t(74)),z=t.n(_),P=t(45),J=(t(306),Object(b.b)("localeStore")(n=Object(b.c)(n=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=Object(A.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(c)))).state={nowlang:"",tankuang:!1},t.onBack=function(){var e=t.props,a=e.history,n=e.onBack;n?n():a.goBack()},t.changeLang=function(e){var a=t.props,n=(a.history,a.localeStore),c=t.props.localeStore.languages,o=Object(E.a)(t);n.switchLang(e).then(c.map(function(e){t.props.localeStore.lang===e.value&&o.setState({nowlang:e.label,tankuang:!1}),window.location.reload()}))},t}return Object(S.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this;this.props.localeStore.languages.map(function(t){e.props.localeStore.lang===t.value&&a.setState({nowlang:t.label})})}},{key:"render",value:function(){var e=this,a=this.props,n=a.localeStore.locale.MINELIST,c=a.haveimg,o=this.state,l=o.tankuang,r=o.nowlang;return v.a.createElement("div",{className:"account-lang__header"},v.a.createElement("img",{style:!c&&{display:"none"}||{},src:t(307),alt:"\u8fd4\u56de",onClick:this.onBack}),v.a.createElement("ul",null,v.a.createElement("li",{onClick:function(){e.props.history.push("/LangSwitch")}},v.a.createElement("span",null,r),v.a.createElement(z.a,{type:"down",size:"sm"}))),l&&v.a.createElement("div",{className:"switch-box"},v.a.createElement("div",{onClick:function(){e.setState({tankuang:!1})},className:"black_box"}),v.a.createElement("div",{className:"kuang"},v.a.createElement("div",{onClick:function(){e.changeLang("zh-hk")},className:"\u7e41\u4f53\u4e2d\u6587"===r?"active-lang lang":"lang"},"\u7e41\u4f53\u4e2d\u6587","\u7e41\u4f53\u4e2d\u6587"===r&&v.a.createElement(z.a,{className:"check_icon",color:"rgba(110,16,255,1)",type:"check"})),v.a.createElement("div",{onClick:function(){e.changeLang("zh-cn")},className:"\u7b80\u4f53\u4e2d\u6587"===r?"active-lang lang":"lang"},"\u7b80\u4f53\u4e2d\u6587","\u7b80\u4f53\u4e2d\u6587"===r&&v.a.createElement(z.a,{className:"check_icon",color:"rgba(110,16,255,1)",type:"check"})),v.a.createElement("div",{onClick:function(){e.changeLang("en-us")},className:"English"===r?"active-lang lang":"lang"},"English","English"===r&&v.a.createElement(z.a,{className:"check_icon",color:"rgba(110,16,255,1)",type:"check"})),v.a.createElement("div",{onClick:function(){e.changeLang("ko-kr")},className:"\ud55c\uad6d\uc5b4"===r?"active-lang lang":"lang"},"\ud55c\uad6d\uc5b4","\ud55c\uad6d\uc5b4"===r&&v.a.createElement(z.a,{className:"check_icon",color:"#FFFFFF",type:"check"})),v.a.createElement("div",{onClick:function(){e.setState({tankuang:!1})},className:"quxiao"}," ",n.QUXIAO," "))))}}]),a}(f.Component))||n)||n),Q=(Object(P.d)(J),t(251),t(193),Object(b.b)("userM4DStore")(c=Object(b.b)("localeStore")(c=Object(b.c)(c=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=Object(A.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(c)))).state={regtype:"phone",account_token:"",nickname:"",preAccount:"",account:"",code:"",imgCode:"",password:"",passwordConfirm:"",recommendCode:window.location.search.split("=")[1]||"",showCaptchaPng:!1,pwType:"password",pwConfirmType:"password",imgSrc:"",captcha:void 0,captchaKey:+new Date,count:k.c,isGetSms:!0,showBtn:!0,isSubmit:!0,isSuccessToast:!1,canGetCode:!0,Zhongduan:"",urlAndroid:"",urlIos:""},t.canSubmit=function(){var e=t.state,a=e.account,n=e.code,c=e.password,o=(e.passwordConfirm,e.nickname),l=e.recommendCode;return!!(a&&n&&c&&o&&l)},t.onInputChange=function(e,a){var n=e.target.value;t.setState(Object(p.a)({},a,n))},t.onAccountBlur=function(e){var a=Object(E.a)(t),n=e.target.value,c=t.state,o=(c.canGetCode,c.preAccount),l=c.account,r=c.regtype;t.props.localeStore.locale.REGISTER;return n!==o&&t.setState({preAccount:n}),"phone"!==r||Object(w.c)(l)?"email"!==r||Object(w.a)(l)?void 0:(m.a.info("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1",1),void a.setState({canGetCode:!0})):(m.a.info("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",1),void a.setState({canGetCode:!0}))},t.onNickBlur=function(e){t.props.localeStore.locale.REGISTER,Object(E.a)(t);var a=e.target.value;Object(w.d)(a)||t.setState({nickname:""},function(){m.a.info("\u6635\u79f0\u4e0d\u5408\u89c4",2)})},t.codeCountDown=function(){var e=t.state.count;t.timer=setInterval(function(){e<=0?(t.setState({isGetSms:!0,count:k.c}),t.setState({canGetCode:!0}),clearInterval(t.timer)):t.setState({isGetSms:!1,count:e--})},1e3)},t.getCode=Object(s.a)(i.a.mark(function e(){var a,n,c,o,l,r,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.userM4DStore,n=t.props.localeStore.locale.REGISTER,c=Object(E.a)(t),o=t.state,l=o.canGetCode,r=o.account,o.captcha,o.imgCode,s=o.regtype,e.next=6,c.setState({canGetCode:!1});case 6:if(l){e.next=8;break}return e.abrupt("return");case 8:if("phone"!==s){e.next=13;break}if(Object(w.c)(r)){e.next=13;break}return m.a.info(n.PLEASE_RIGHT_PHONE,1),c.setState({canGetCode:!0}),e.abrupt("return");case 13:if("email"!==s){e.next=18;break}if(Object(w.a)(r)){e.next=18;break}return m.a.info(n.PLEASE_RIGHT_EMAIL,1),c.setState({canGetCode:!0}),e.abrupt("return");case 18:a.getCode({account:r,type:"reg"}).then(function(e){if(1!==e.status)return m.a.info(e.msg),void c.setState({canGetCode:!0});t.codeCountDown()});case 19:case"end":return e.stop()}},e)})),t.onSetType=function(e,a){var n="password"===e?"text":"password";t.setState(Object(p.a)({},a,n))},t.onSubmit=function(){var e=t.props,a=e.userM4DStore,n=e.history,c=t.props.localeStore.locale.REGISTER,o=t.state,l=o.account,r=o.code,i=o.password,s=(o.passwordConfirm,o.nickname),u=o.recommendCode,p=o.regtype;k.d.PASSWORD.test(i)?(t.setState({isSubmit:!1}),a.register({usertype:p,email:Object(w.a)(l)?l:null,phone:Object(w.c)(l)?l:null,code:r,password:i,recommend_code:u,user_name:s}).then(function(e){if(t.setState({isSubmit:!0}),1!==e.status)return m.a.info(e.msg,2),void t.setState({isSubmit:!0,code:"",captcha:""});m.a.info(c.REGISTER_SUCESS,2,function(){n.push("/Download")})}).catch(function(){return t.setState({isSubmit:!0})})):m.a.info(c.PASSWORD_LEAST,2)},t.checkReg=function(e){t.setState({regtype:e})},t}return Object(S.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match;C.b.appdownload().then(function(a){1===a.status?e.setState({urlAndroid:a.data.urlAndroid,urlIos:a.data.urlIos}):m.a.info(a.msg)}),console.log(window.location.search.split("=")[1]),console.log(Object(N.c)());var a=Object(N.c)();this.setState({Zhongduan:a})}},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"render",value:function(){var e=this,a=(this.props.history,this.props.localeStore.locale.REGISTER),t=this.state,n=t.nickname,c=t.account,o=t.code,r=t.password,i=t.recommendCode,s=t.pwType,u=t.count,p=t.isGetSms,d=t.isSubmit,h=t.canGetCode,A=t.regtype,g=t.Zhongduan,E=t.urlAndroid,S=t.urlIos;return v.a.createElement("div",{id:"register"},v.a.createElement("div",{className:"log_head"},v.a.createElement("h1",null,a.ZCXZH),v.a.createElement("p",null,a.HYZC)),v.a.createElement("div",{className:"reg_type_box"},v.a.createElement("span",{onClick:function(){e.checkReg("phone")},className:"phone"===A?"active":"no_active"},a.PHONE_REGISTER),v.a.createElement("span",{onClick:function(){e.checkReg("email")},className:"phone"===A?"no_active":"active"},a.EMAIL_REGISTER)),v.a.createElement("div",{className:"out_box"},v.a.createElement("div",{className:"main-content"},v.a.createElement("label",null,v.a.createElement("div",{className:"input-box"},v.a.createElement("img",{className:"icon-img",src:I.a}),v.a.createElement("input",{className:"input-main",type:"text",value:n,placeholder:a.YHM,onBlur:function(a){return e.onNickBlur(a)},onChange:function(a){return e.onInputChange(a,"nickname")}}))),v.a.createElement("label",null,v.a.createElement("div",{className:"input-box"},v.a.createElement("img",{className:"icon-img",src:"phone"===A&&D.a||Z.a}),v.a.createElement("input",{className:"input-main",type:"text",value:c,placeholder:"phone"===A&&a.PHONE_NUM||a.EMAIL_NUM,onBlur:this.onAccountBlur,onChange:function(a){return e.onInputChange(a,"account")}}))),v.a.createElement("label",null,v.a.createElement("div",{className:"input-box"},v.a.createElement("img",{className:"icon-img",src:T.a}),v.a.createElement("input",{className:"input-main",type:"text",maxLength:6,placeholder:a.YANZHENGMA,value:o,onChange:function(a){return e.onInputChange(a,"code")}})),v.a.createElement("span",{style:!h&&p&&{opacity:".5"}||{},className:"sms-code  ".concat(p?"":"event-none"),onClick:this.getCode},p?a.HQ_YANZHENGMA:v.a.createElement("span",null,"".concat(u,"s")))),v.a.createElement("label",null,v.a.createElement("div",{className:"input-box"},v.a.createElement("img",{className:"icon-img",src:H.a}),v.a.createElement("input",{className:"input-main",type:s,value:r,placeholder:a.PLEASE_PASSWORD,onChange:function(a){return e.onInputChange(a,"password")}})),v.a.createElement("img",{className:"eye-img",src:"text"===s?O.a:j.a,alt:"\u7741\u773c\u95ed\u773c",onClick:function(){return e.onSetType(s,"pwType")}})),v.a.createElement("label",null,v.a.createElement("div",{className:"input-box"},v.a.createElement("img",{className:"icon-img",src:L.a}),v.a.createElement("input",{className:"input-main",type:"text",value:i,placeholder:a.YQM,onChange:function(a){return e.onInputChange(a,"recommendCode")}})))),v.a.createElement("div",{className:"btn-box"},v.a.createElement(l.a,{activeClassName:"active",className:"primary-button",disabled:!this.canSubmit()||!d,onClick:this.onSubmit},a.NOW_REGISTER)),v.a.createElement("div",{className:"to_log"},a.HAD_ZHANGHAO," ",v.a.createElement("span",{onClick:function(){Object(N.d)()?m.a.info("\u8bf7\u590d\u5236\u94fe\u63a5\u5230\u6d4f\u89c8\u5668\u4e0b\u8f7dapp"):(1===g&&window.open(E),2===g&&window.open(S))}},a.LJXZ))))}}]),a}(f.Component))||c)||c)||c);a.default=Q}}]);
//# sourceMappingURL=71.bc8b523e.chunk.js.map