{"version":3,"sources":["components/partial/AccountHeader.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","assets/images/arrow-left.png","pages/blindBox/Duihuan.js"],"names":["AccountHeader","inject","observer","onBack","_this$props","_this","props","history","onHandle","goBack","window","length","go","push","_this$props2","this","_this$props3","src","Object","C_Users_15691_Desktop_gzxProject_imeta_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_0__","localeStore","_this$props4","hideBack","msg","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","style","className","require","alt","onClick","Component","withRouter","_objectDestructuringEmpty","obj","TypeError","__webpack_require__","d","__webpack_exports__","module","exports","Duihuan","state","mhSDK","password","passwordConfirm","pwType","pwConfirmType","oldpwType","isSubmit","canSubmit","onInputChange","e","key","value","target","setState","C_Users_15691_Desktop_gzxProject_imeta_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__","onSetType","currentType","type","onSubmit","userM4DStore","locale","REGISTER","getUserStatus","CommodityApi","redeem","open_id","openid","redeem_code","then","res","status","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_3___default","info","catch","match","onresize","_this2","_this$props$localeSto","_this$state","PASSWORD","react__WEBPACK_IMPORTED_MODULE_10___default","id","_components_partial_AccountHeader__WEBPACK_IMPORTED_MODULE_16__","placeholder","onChange","antd_mobile_lib_button__WEBPACK_IMPORTED_MODULE_1___default","activeClassName","disabled"],"mappings":"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","file":"static/js/51.2d916a7b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport \"./AccountHeader.scss\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport { Toast } from \"antd-mobile\";\r\n\r\n@inject(\"localeStore\")\r\n@observer\r\nclass AccountHeader extends Component {\r\n  componentDidMount() {\r\n    const { history, onHandle } = this.props;\r\n    // console.log(history)\r\n    // console.log((window.history));\r\n  }\r\n  onBack = () => {\r\n    const { history, onHandle } = this.props;\r\n\r\n    if (onHandle) {\r\n      onHandle();\r\n      return;\r\n    }\r\n    if (!history.goBack) {\r\n      // console.log('gzxtest')\r\n      history.push(\"/home\");\r\n      return;\r\n    }\r\n    // console.log(history);\r\n    if(window.history.length>1){\r\n      window.history.go(-1);\r\n    }else{\r\n      history.push('/home')\r\n    }\r\n    // Toast.info(JSON.stringify( window.history.length), 2, () => {\r\n    //   // history.goBack()\r\n   \r\n    // });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      src,\r\n      localeStore: {\r\n        // locale: { PASSWORD }\r\n      },\r\n    } = this.props;\r\n    const { msg, hideBack } = this.props;\r\n    return (\r\n      <div style={this.props.style || {}} className=\"account-header\">\r\n        <img\r\n          className={hideBack ? \"hidden\" : \"\"}\r\n          src={(src && src) || require(\"../../assets/images/arrow-left.png\")}\r\n          alt=\"返回\"\r\n          onClick={this.onBack}\r\n        />\r\n        {/* <h1>{title}</h1> */}\r\n        {/* {msg && <p>{msg}</p>} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AccountHeader);\r\n","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAAACeqFUAAACI0lEQVRYCb2YO0gDQRRFs34bQQiCaFDwA4pCioBFRAsLtbETG3tBLGwEK1uxsrOwshRBRKwsLKwEOxUxECsRJCKGaOI/ajwTLIbNzursTDJww8x78+55O7txJaFQgFEoFJrQJnpA52gsgI1ZCdAWlEDyeGPRaeasUQ0sgpJyB9J8QcOqZGtNSUQRANhO6hCprvxTUWovTBMd6Eq6evdUPCsRe0QPJwDd6NpNltYvzEc9Su2FAPSgGwnqnj4RGLFH9HAC0I9u3WRpnWM+7FFqLwQgiu4kqHv6SCBuj+jhBCCG7t1kaZ1hPuBRai8kAEiAVCNNImaP6OEEII7EkauGuFVRj1J7IQBDSDx8qiEe2n57xFInB0CYcAI1l6aLkQ8+Z1FSkTcJpym+dBynEKKRNdUxVCh+AqdNnMgFXfWZXJaF2j3RSA6jBgtmJhbZKqrLce91m0qJRnZ1q8qwf1ncmjqMz1CvD0D8H5LxyQdNiW/NNt+ag6IBzYhXfQqpxjGJyjxHgMSLzu/P+wH5+qCXrlUHaBA9I9XYIVGtZRp0M6Bx9K7qhPgGcoL6a9UBmkJfSDVWtQxNNtPBjKqL3/iSib9WLcDFP5qZ0zI02UwjKz7NfJObNvHXqgW27tNMntyElmHQzYCq0JZPM1lyrUH9teoA1aJ9n2bmtQxdm8VL71+D90GejZPoSFFQq4iXJ8yJNKJT18m8su4qD9HHFWgYWf2h5gfF7AOA8qMQfgAAAABJRU5ErkJggg==\"","import React, { Component } from \"react\";\r\nimport { Button, Toast, Icon } from \"antd-mobile\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { UserApi,CommodityApi } from \"../../api\";\r\nimport { isEmail, isMobile, isNickName } from \"../../utils/reg\";\r\n// import { compatibleFixedButton, getQueryParam } from '../../utils/common'\r\nimport \"./Duihuan.scss\";\r\nimport AccountHeader from \"../../components/partial/AccountHeader\";\r\nimport { Link } from \"react-router-dom\";\r\n@inject(\"userM4DStore\")\r\n@inject(\"localeStore\")\r\n@observer\r\nclass Duihuan extends Component {\r\n  state = {\r\n    mhSDK: \"\",\r\n    password: \"\",\r\n    passwordConfirm: \"\",\r\n    pwType: \"password\",\r\n    pwConfirmType: \"password\",\r\n    oldpwType: \"password\",\r\n    isSubmit: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.onresize = null;\r\n  }\r\n\r\n  canSubmit = () => {\r\n    const { mhSDK } = this.state;\r\n    return !!mhSDK;\r\n  };\r\n\r\n  onInputChange = (e, key) => {\r\n    const { value } = e.target;\r\n    // console.log(ke注册时候取消确认密码功能y)\r\n    //\r\n    // if (key === 'password') {\r\n    //   // console.log(key)\r\n    //   this.setState({\r\n    //     passwordConfirm: value\r\n    //   })\r\n    // }\r\n\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  onSetType = (currentType, key) => {\r\n    const type = currentType === \"password\" ? \"text\" : \"password\";\r\n    this.setState({ [key]: type });\r\n  };\r\n\r\n  onSubmit = () => {\r\n    const { userM4DStore, history } = this.props;\r\n    const {\r\n      localeStore: {\r\n        locale: { REGISTER },\r\n      },\r\n    } = this.props;\r\n    const { mhSDK } = this.state;\r\n\r\n\r\n    this.setState({ isSubmit: false });\r\n    userM4DStore.getUserStatus();\r\n    CommodityApi.redeem({\r\n      open_id: userM4DStore.openid,\r\n      redeem_code: mhSDK,\r\n    })\r\n      .then((res) => {\r\n        this.setState({ isSubmit: true });\r\n        if (res.status !== 1) {\r\n          Toast.info(res.msg, 2);\r\n          this.setState({ isSubmit: true });\r\n          return;\r\n        }\r\n        Toast.info(res.msg, 2, () => {\r\n          history.push(\"/MyBlindBox\");\r\n        });\r\n      })\r\n      .catch(() => this.setState({ isSubmit: true }));\r\n  };\r\n\r\n  render() {\r\n    const { history } = this.props;\r\n    const {\r\n      localeStore: {\r\n        locale: { REGISTER, PASSWORD },\r\n      },\r\n    } = this.props;\r\n    const { isSubmit, mhSDK } = this.state;\r\n\r\n    return (\r\n      <div id=\"Duihuan\">\r\n        {/* <AccountLangHeader/> */}\r\n        <AccountHeader />\r\n        <div className=\"it_title\">兑换码</div>\r\n\r\n        <div className=\"out_box\">\r\n          <div className=\"main-content\">\r\n            <label>\r\n              <div className={\"text-input\"}>请输入盲盒兑换码</div>\r\n              {/* <div className={\"text-input\"}>请输入产品兑换码</div> */}\r\n              <div className=\"input-box\">\r\n                <input\r\n                  className=\"input-main\"\r\n                  type={\"text\"}\r\n                  value={mhSDK}\r\n                  placeholder={\"请输入盲盒兑换码\"}\r\n                  onChange={(e) => this.onInputChange(e, \"mhSDK\")}\r\n                />\r\n              </div>\r\n            </label>\r\n          </div>\r\n          <div className=\"btn-box\">\r\n            <Button\r\n              activeClassName=\"active\"\r\n              className=\"primary-button\"\r\n              disabled={!this.canSubmit() || !isSubmit}\r\n              // onClick={() => { this.props.history.push('/LookKey') }}>\r\n              onClick={this.onSubmit}\r\n            >\r\n              立即兑换\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <p>\r\n          兑换后在<a onClick={()=>{history.push('/MyBlindBox')}}>我的盲盒</a>中查看\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Duihuan;\r\n"],"sourceRoot":""}