{"version":3,"sources":["components/partial/AccountHeader.js","assets/images/arrow-left.png","utils/format.js","pages/trade/ChooseCollection.js"],"names":["AccountHeader","inject","observer","onBack","_this$props","_this","props","history","onHandle","goBack","window","length","go","push","_this$props2","this","_this$props3","src","Object","C_Users_15691_Desktop_gzxProject_imeta_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_0__","localeStore","_this$props4","hideBack","msg","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","style","className","require","alt","onClick","Component","withRouter","module","exports","__webpack_require__","d","__webpack_exports__","formatDate","formatTime","formatDataHourTime","formatWalletPrice","formatWalletPriceSubZeroAndDot","cryptoAccountDisplay","getQueryString","formatZeroNumber","formatTags","dayjs__WEBPACK_IMPORTED_MODULE_0__","dayjs__WEBPACK_IMPORTED_MODULE_0___default","n","_constants__WEBPACK_IMPORTED_MODULE_1__","_locales__WEBPACK_IMPORTED_MODULE_2__","lang","localStorage","getItem","locales","getLocale","timestamp","dayjs","format","price","COIN_POINT_LENGTH","subZeroAndDot","downFixed","arguments","undefined","trim","Number","String","parseFloat","account","toString","slice","substring","num","fix","result","test","concat","Array","join","RegExp","exec","name","reg","r","location","search","substr","match","nStr","split","tags","ChooseCollection","state","myList","page","pageSize","hasMore","count","gzxtest","getMyCollection","C_Users_15691_Desktop_gzxProject_imeta_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","_this2","_this2$state","userM4DStore","getUserStatus","CommodityApi","myCommodityList","row","open_id","openid","then","res","status","arr","data","list","console","log","apply","C_Users_15691_Desktop_gzxProject_imeta_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","setState","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_2___default","info","onresize","label","_this3","_this$state","locale","SHEQU","react__WEBPACK_IMPORTED_MODULE_9___default","id","_components_partial_AccountHeader__WEBPACK_IMPORTED_MODULE_14__","react_infinite_scroll_component__WEBPACK_IMPORTED_MODULE_15___default","dataLength","next","loader","endMessage","textAlign","color","refreshFunction","reload","pullDownToRefresh","pullDownToRefreshThreshold","pullDownToRefreshContent","releaseToRefreshContent","fontWeight","map","item","index","sell","key","pathname","p_face","p_name","i","issuer","nft_id","ipfs_img_url_hash"],"mappings":"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","file":"static/js/58.b97e2f1a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport \"./AccountHeader.scss\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport { Toast } from \"antd-mobile\";\r\n\r\n@inject(\"localeStore\")\r\n@observer\r\nclass AccountHeader extends Component {\r\n  componentDidMount() {\r\n    const { history, onHandle } = this.props;\r\n    // console.log(history)\r\n    // console.log((window.history));\r\n  }\r\n  onBack = () => {\r\n    const { history, onHandle } = this.props;\r\n\r\n    if (onHandle) {\r\n      onHandle();\r\n      return;\r\n    }\r\n    if (!history.goBack) {\r\n      // console.log('gzxtest')\r\n      history.push(\"/home\");\r\n      return;\r\n    }\r\n    // console.log(history);\r\n    if(window.history.length>1){\r\n      window.history.go(-1);\r\n    }else{\r\n      history.push('/home')\r\n    }\r\n    // Toast.info(JSON.stringify( window.history.length), 2, () => {\r\n    //   // history.goBack()\r\n   \r\n    // });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      src,\r\n      localeStore: {\r\n        // locale: { PASSWORD }\r\n      },\r\n    } = this.props;\r\n    const { msg, hideBack } = this.props;\r\n    return (\r\n      <div style={this.props.style || {}} className=\"account-header\">\r\n        <img\r\n          className={hideBack ? \"hidden\" : \"\"}\r\n          src={(src && src) || require(\"../../assets/images/arrow-left.png\")}\r\n          alt=\"返回\"\r\n          onClick={this.onBack}\r\n        />\r\n        {/* <h1>{title}</h1> */}\r\n        {/* {msg && <p>{msg}</p>} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AccountHeader);\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAAACeqFUAAACI0lEQVRYCb2YO0gDQRRFs34bQQiCaFDwA4pCioBFRAsLtbETG3tBLGwEK1uxsrOwshRBRKwsLKwEOxUxECsRJCKGaOI/ajwTLIbNzursTDJww8x78+55O7txJaFQgFEoFJrQJnpA52gsgI1ZCdAWlEDyeGPRaeasUQ0sgpJyB9J8QcOqZGtNSUQRANhO6hCprvxTUWovTBMd6Eq6evdUPCsRe0QPJwDd6NpNltYvzEc9Su2FAPSgGwnqnj4RGLFH9HAC0I9u3WRpnWM+7FFqLwQgiu4kqHv6SCBuj+jhBCCG7t1kaZ1hPuBRai8kAEiAVCNNImaP6OEEII7EkauGuFVRj1J7IQBDSDx8qiEe2n57xFInB0CYcAI1l6aLkQ8+Z1FSkTcJpym+dBynEKKRNdUxVCh+AqdNnMgFXfWZXJaF2j3RSA6jBgtmJhbZKqrLce91m0qJRnZ1q8qwf1ncmjqMz1CvD0D8H5LxyQdNiW/NNt+ag6IBzYhXfQqpxjGJyjxHgMSLzu/P+wH5+qCXrlUHaBA9I9XYIVGtZRp0M6Bx9K7qhPgGcoL6a9UBmkJfSDVWtQxNNtPBjKqL3/iSib9WLcDFP5qZ0zI02UwjKz7NfJObNvHXqgW27tNMntyElmHQzYCq0JZPM1lyrUH9teoA1aJ9n2bmtQxdm8VL71+D90GejZPoSFFQq4iXJ8yJNKJT18m8su4qD9HHFWgYWf2h5gfF7AOA8qMQfgAAAABJRU5ErkJggg==\"","import dayjs from \"dayjs\";\r\nimport { COIN_POINT_LENGTH } from \"./constants\";\r\nimport locales from \"../locales\";\r\nfunction getLocale() {\r\n  const lang = localStorage.getItem(\"LANG\") || \"zh-cn\";\r\n  // console.log(lang);\r\n  // console.log(locales[lang]);\r\n  return locales[lang];\r\n}\r\nconst locale = getLocale();\r\n// 转换币种格式\r\nexport function BiToDaxie(bi) {\r\n  if (!bi) return \"\";\r\n  return bi.replace(/usdt/g, \"/USDT\").toUpperCase();\r\n}\r\nexport function formatDate(timestamp) {\r\n  if (!timestamp) return \"\";\r\n  return dayjs(timestamp * 1000).format(\"YYYY年MM月DD日\");\r\n}\r\n\r\nexport function formatTime(timestamp) {\r\n  if (!timestamp) return \"\";\r\n  return dayjs(timestamp * 1000).format(\"YYYY.MM.DD HH:mm\");\r\n}\r\n\r\nexport function formatDateTime(timestamp) {\r\n  if (!timestamp) return \"\";\r\n  return dayjs(timestamp * 1000).format(\"YYYY.MM.DD HH:mm:ss\");\r\n}\r\nexport function formatDataHourTime(timestamp) {\r\n  if (!timestamp) return \"\";\r\n  return dayjs(timestamp * 1000).format(\"MM月DD日 HH:mm:ss\");\r\n}\r\nexport function formatHourTime(timestamp) {\r\n  if (!timestamp) return \"\";\r\n  return dayjs(timestamp * 1000).format(\"HH:mm\");\r\n}\r\n// 斜杠\r\nexport function formatDateTimeXiegang(timestamp) {\r\n  if (!timestamp) return \"\";\r\n  return dayjs(timestamp * 1000).format(\"YYYY/MM/DD HH:mm:ss\");\r\n}\r\n// 币种价格与数量位数格式化\r\nexport function formatCoinPrice(price, length = 2) {\r\n  if (!price) return \"--\";\r\n  return downFixed(price, length);\r\n}\r\n\r\n// 币种价格与数量位数格式化\r\nexport function formatWalletPrice(price, length) {\r\n  length = length || COIN_POINT_LENGTH;\r\n  if (!price) return 0;\r\n  return subZeroAndDot(downFixed(price, length));\r\n}\r\n// 币种价格与数量位数格式化4\r\nexport function formatWalletPrice4(price, length = 4) {\r\n  if (!price) return 0;\r\n  return downFixed(price, length);\r\n}\r\n// 币种价格与数量位数格式化 (4位去掉多余0)\r\nexport function formatWalletPriceSubZeroAndDot(\r\n  price,\r\n  length = COIN_POINT_LENGTH\r\n) {\r\n  if (!price) return 0;\r\n  // price=price+'';//这一步是将data转换成string类型;\r\n  // price = price.substring(0, price.lastIndexOf(\".\") + 3)\r\n  // return subZeroAndDot(downFixed(price, length))\r\n  return subZeroAndDot(downFixed(price, length));\r\n}\r\n// 保留2位\r\nexport function formatSpecialOffer(price) {\r\n  if (!price) return \"0.00\";\r\n  return downFixed(price, 2);\r\n  // price = Number(price).toFixed(2)\r\n  // return parseFloat(price)\r\n}\r\n// 去掉多余的0\r\nexport function subZeroAndDot(price) {\r\n  // console.log(price)\r\n  if (!price) return \"0\";\r\n  if (typeof price == \"undefined\" || price == null || price.trim() == \"\") {\r\n    return price;\r\n  }\r\n  return Number(String(parseFloat(price)));\r\n}\r\n// 特价算力数量保留2位\r\nexport function formatSpecialOffer2(price) {\r\n  if (!price) return 0;\r\n  return downFixed(price, 2);\r\n  // price = Number(price).toFixed(2)\r\n  // return parseFloat(price)\r\n}\r\n// 账号加*显示\r\nexport function cryptoAccountDisplay(account) {\r\n  account = account.toString();\r\n  return account.slice(0, 3) + \"****\" + account.substring(account.length-4);\r\n  // return account ? account.replace(account.slice(3, 7), '****') : account;\r\n}\r\n// 账号截取最后六位\r\nexport function lastsix(account) {\r\n  account = account.toString();\r\n  // console.log(account)\r\n  let str = account; //截取后4位\r\n  return str.substring(str.length - 6);\r\n}\r\n\r\nfunction downFixed(num, fix) {\r\n  // num为原数字，fix是保留的小数位数\r\n  let result = \"0\";\r\n  if (Number(num) && fix > 0) {\r\n    // 简单的做个判断\r\n    fix = +fix || 2;\r\n    num = num + \"\";\r\n\r\n    if (/e/.test(num)) {\r\n      // 如果是包含e字符的数字直接返回\r\n      // result = num\r\n      result = 0;\r\n    } else if (!/\\./.test(num)) {\r\n      // 如果没有小数点\r\n      result = num + `.${Array(fix + 1).join(\"0\")}`;\r\n    } else {\r\n      // 如果有小数点\r\n      num = num + `${Array(fix + 1).join(\"0\")}`;\r\n      let reg = new RegExp(`-?\\\\d*.\\\\d{0,${fix}}`);\r\n      result = reg.exec(num)[0];\r\n    }\r\n  }\r\n  return result;\r\n}\r\nexport function toChinesNum(num) {\r\n  let changeNum = [\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"];\r\n  let unit = [\"\", \"十\", \"百\", \"千\", \"万\"];\r\n  num = parseInt(num);\r\n  let getWan = (temp) => {\r\n    let strArr = temp.toString().split(\"\").reverse();\r\n    let newNum = \"\";\r\n    for (var i = 0; i < strArr.length; i++) {\r\n      newNum =\r\n        (i == 0 && strArr[i] == 0\r\n          ? \"\"\r\n          : i > 0 && strArr[i] == 0 && strArr[i - 1] == 0\r\n          ? \"\"\r\n          : changeNum[strArr[i]] + (strArr[i] == 0 ? unit[0] : unit[i])) +\r\n        newNum;\r\n    }\r\n    return newNum;\r\n  };\r\n  let overWan = Math.floor(num / 10000);\r\n  let noWan = num % 10000;\r\n  if (noWan.toString().length < 4) {\r\n    noWan = \"0\" + noWan;\r\n  }\r\n  return overWan ? getWan(overWan) + \"万\" + getWan(noWan) : getWan(num);\r\n}\r\n// 判断是几秒前\r\nexport function getDateDiff(setdateTimeStamp) {\r\n  let minute = 1000 * 60;\r\n  let hour = minute * 60;\r\n  let day = hour * 24;\r\n  let halfamonth = day * 15;\r\n  let month = day * 30;\r\n  let dateTimeStamp = new Date(setdateTimeStamp * 1000);\r\n  let now = new Date().getTime();\r\n  let diffValue = now - dateTimeStamp;\r\n  if (diffValue < 0) {\r\n    //若日期不符则弹出窗口告之\r\n    return \"结束日期不能小于开始日期！\";\r\n  }\r\n  let monthC = diffValue / month;\r\n  let weekC = diffValue / (7 * day);\r\n  let dayC = diffValue / day;\r\n  let hourC = diffValue / hour;\r\n  let minC = diffValue / minute;\r\n  let result = \"\";\r\n  if (monthC >= 1) {\r\n    // result = parseInt(monthC) + locale.BROWSER.GYQ;\r\n    result = parseInt(monthC) + \"月\";\r\n  } else if (weekC >= 1) {\r\n    result = parseInt(weekC) + \"周\";\r\n  } else if (dayC >= 1) {\r\n    result = parseInt(dayC) + \"天\";\r\n  } else if (hourC >= 1) {\r\n    result = parseInt(hourC) + \"小时\";\r\n  } else if (minC >= 1) {\r\n    result = parseInt(minC) + \"分钟\";\r\n    // console.log( parseInt(diffValue/1000))\r\n  } else result = parseInt(diffValue / 1000) + locale.BROWSER.MQ;\r\n\r\n  // result = parseInt(diffValue);\r\n  // alert(result);\r\n  return result;\r\n}\r\n// 数组去重\r\nexport function unique(arr) {\r\n  return Array.from(new Set(arr));\r\n}\r\n\r\n//对象数组的去重\r\nexport function uniqObjInArray(objarray) {\r\n  let len = objarray.length;\r\n  let tempJson = {};\r\n  let res = [];\r\n  for (let i = 0; i < len; i++) {\r\n    //取出每一个对象\r\n    tempJson[JSON.stringify(objarray[i])] = true;\r\n  }\r\n  let keyItems = Object.keys(tempJson);\r\n  for (let j = 0; j < keyItems.length; j++) {\r\n    res.push(JSON.parse(keyItems[j]));\r\n  }\r\n  return res;\r\n}\r\nexport function daojishi(thisTime, type) {\r\n  let expire_time = formatDateTimeXiegang(thisTime);\r\n  let NowTime = new Date(),\r\n    EndTime = new Date(expire_time),\r\n    t = NowTime.getTime() - EndTime.getTime(),\r\n    day = Math.floor(t / 1000 / 60 / 60 / 24),\r\n    hours = Math.floor((t / 1000 / 60 / 60) % 24),\r\n    minutes = Math.floor((t / 1000 / 60) % 60),\r\n    seconds = Math.floor((t / 1000) % 60);\r\n\r\n  let Day = day < 10 ? (day < 0 ? \"00\" : \"0\" + day) : day;\r\n  // $Hours: hours < 10 ? (hours < 0 ? '00' : '0' + hours) : hours,\r\n  let Hour = hours < 10 ? (hours < 0 ? \"00\" : \"0\" + hours) : hours;\r\n  let Minutes = minutes < 10 ? (minutes < 0 ? \"00\" : \"0\" + minutes) : minutes;\r\n\r\n  let Seconds = seconds < 10 ? (seconds < 0 ? \"00\" : \"0\" + seconds) : seconds;\r\n  if (type === \"时\") {\r\n    return (Day || 0) + locale.ORDER.TIAN + (Hour || 0) + locale.ORDER.SHI;\r\n  }\r\n  return (\r\n    Day +\r\n    locale.ORDER.TIAN +\r\n    Hour +\r\n    locale.ORDER.SHI +\r\n    Minutes +\r\n    locale.ORDER.FEN\r\n  );\r\n}\r\n\r\n/**\r\n * [getUrlParam 获取地址栏传参]\r\n * @param  {[String]} paramname [参数名]\r\n * @return {[String]}           [参数值]\r\n */\r\nexport function getUrlParam(paramname) {\r\n  var reg = new RegExp(\"(^|&)\" + paramname + \"=([^&]*)(&|$)\");\r\n\r\n  // 查询匹配 substr(1)删除? match()匹配\r\n  var s = window.location.search.substr(1).match(reg);\r\n\r\n  if (s != null) {\r\n    return unescape(s[2]); // unescape() 函数可对通过 escape() 编码的字符串进行解码。\r\n    // return s[2]; //\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n//获取地址栏参数的方法\r\nexport function getQueryString(name) {\r\n  // console.log(name)\r\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n  var r = window.location.search.substr(1).match(reg);\r\n  if (r != null) return r[2];\r\n  return null;\r\n}\r\n\r\n/**\r\n * 格式化秒\r\n * @param int  value 总秒数\r\n * @return string result 格式化后的字符串\r\n */\r\nexport function formatSeconds(value) {\r\n  var theTime = parseInt(value); // 需要转换的时间秒\r\n  var theTime1 = 0; // 分\r\n  var theTime2 = 0; // 小时\r\n  var theTime3 = 0; // 天\r\n  if (theTime > 60) {\r\n    theTime1 = parseInt(theTime / 60);\r\n    theTime = parseInt(theTime % 60);\r\n    if (theTime1 > 60) {\r\n      theTime2 = parseInt(theTime1 / 60);\r\n      theTime1 = parseInt(theTime1 % 60);\r\n      if (theTime2 > 24) {\r\n        //大于24小时\r\n        theTime3 = parseInt(theTime2 / 24);\r\n        theTime2 = parseInt(theTime2 % 24);\r\n      }\r\n    }\r\n  }\r\n  var result = \"\";\r\n  if (theTime > 0) {\r\n    // result = \"\" + parseInt(theTime) + \"秒\";\r\n  }\r\n  // if (theTime1 > 0) {\r\n  //   result = \"\" + parseInt(theTime1) + \"分\" + result;\r\n  // } else {\r\n  //   result = \"\" + \"00分\" + result;\r\n  // }\r\n  if (theTime2 > 0) {\r\n    result = \"\" + parseInt(theTime2) + locale.ORDER.SHI + result;\r\n  } else {\r\n    result = \"\" + \"00\" + locale.ORDER.SHI + result;\r\n  }\r\n  if (theTime3 > 0) {\r\n    result = \"\" + parseInt(theTime3) + locale.ORDER.TIAN + result;\r\n  } else {\r\n    result = \"\" + \"00\" + locale.ORDER.TIAN + result;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function compareToIndexValue(arr, int, arrIndex) {\r\n  if (\r\n    arr[arrIndex].substring(int, int + 1) ==\r\n    arr[arrIndex + 1].substring(int, int + 1)\r\n  )\r\n    compareToIndexValue(arr, int + 1, arrIndex);\r\n  //如果第一位相等,则继续比较第二个字符\r\n  else if (\r\n    arr[arrIndex].substring(int, int + 1) >\r\n    arr[arrIndex + 1].substring(int, int + 1)\r\n  ) {\r\n    var temp = arr[arrIndex + 1];\r\n    arr[arrIndex + 1] = arr[arrIndex];\r\n    arr[arrIndex] = temp;\r\n  } /*else if(arr[arrIndex].substring(int,int+1) < arr[arrIndex + 1].substring(int,int+1)) return;*/\r\n  return;\r\n}\r\n/**\r\n * 传入数组\r\n * 按字母顺序,升序\r\n * 冒泡排序\r\n */\r\nexport function getKeySort(strArr) {\r\n  var count = 0;\r\n  var compareInt = 0;\r\n  for (var i = 0; i < strArr.length; i++) {\r\n    for (var j = 0; j < strArr.length - 1 - i; j++) {\r\n      /*if(strArr [j].substring(0,1) > strArr[j + 1].substring(0,1)){\r\n\t\t\t\tvar temp = strArr[j + 1];\r\n\t\t\t\tstrArr[j + 1] = strArr[j];\r\n\t\t\t\tstrArr[j] = temp;\r\n\t\t\t}\r\n\t\t\tif(strArr [j].substring(0,1) == strArr[j + 1].substring(0,1)){\r\n\t\t\t\tif(strArr [j].substring(1,2) > strArr[j + 1].substring(1,2)){\r\n\t\t\t\t\tvar temp = strArr[j + 1];\r\n\t\t\t\t\tstrArr[j + 1] = strArr[j];\r\n\t\t\t\t\tstrArr[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t}*/\r\n      compareToIndexValue(strArr, compareInt, j);\r\n      count++;\r\n    }\r\n  }\r\n  /*console.log(\"遍历次数:\"+count);*/\r\n  /*console.log(strArr);*/\r\n  return strArr;\r\n}\r\n\r\n//由星期的数字转换为星期的名称,date格式：2016-01-07，用\"-\"分割\r\nexport function toWeekName(date) {\r\n  var newDate = new Date(date.replace(/-/g, \"/\"));\r\n  var weekday = new Array(7);\r\n  weekday[0] = \"星期日\";\r\n  weekday[1] = \"星期一\";\r\n  weekday[2] = \"星期二\";\r\n  weekday[3] = \"星期三\";\r\n  weekday[4] = \"星期四\";\r\n  weekday[5] = \"星期五\";\r\n  weekday[6] = \"星期六\";\r\n  return weekday[newDate.getDay()];\r\n}\r\n//解决ios橡皮筋问题\r\nexport function iosTrouchFn(el) {\r\n  //el需要滑动的元素\r\n  el.addEventListener(\"touchmove\", function (e) {\r\n    e.isSCROLL = true;\r\n  });\r\n  document.body.addEventListener(\r\n    \"touchmove\",\r\n    function (e) {\r\n      if (!e.isSCROLL) {\r\n        e.preventDefault(); //阻止默认事件(上下滑动)\r\n      } else {\r\n        //需要滑动的区域\r\n        var top = el.scrollTop; //对象最顶端和窗口最顶端之间的距离\r\n        var scrollH = el.scrollHeight; //含滚动内容的元素大小\r\n        var offsetH = el.offsetHeight; //网页可见区域高\r\n        var cScroll = top + offsetH; //当前滚动的距离\r\n\r\n        //被滑动到最上方和最下方的时候\r\n        if (top == 0) {\r\n          top = 1; //0～1之间的小数会被当成0\r\n        } else if (cScroll === scrollH) {\r\n          el.scrollTop = top - 0.1;\r\n        }\r\n      }\r\n    },\r\n    { passive: false }\r\n  ); //passive防止阻止默认事件不生效\r\n}\r\nexport function formatZeroNumber(price) {\r\n  if (!price) return 0;\r\n  if (price>0){\r\n    return formatWalletPrice(price)\r\n  }\r\n  const nStr = price.toString();\r\n  // 点开头 后面接任意个0 也可能没有0 然后是非0的数第一次出现 后面接任意数字\r\n  const pattern = /\\.0*?[^0].?/;\r\n  return nStr.split(\".\")[0] + pattern.exec(nStr)[0];\r\n}\r\n// 格式化tags\r\nexport function formatTags(tags){\r\n  let newTags = []\r\n  newTags =  tags.split(',')\r\n  // console.log(newTags)\r\n  return newTags\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Button, Toast, Icon } from \"antd-mobile\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { CommodityApi } from \"../../api\";\r\nimport \"./ChooseCollection.scss\";\r\nimport AccountHeader from \"../../components/partial/AccountHeader\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport {\r\n  formatTags,\r\n} from \"../../utils/format\";\r\nimport { Link } from \"react-router-dom\";\r\n@inject(\"userM4DStore\")\r\n@inject(\"localeStore\")\r\n@observer\r\nclass ChooseCollection extends Component {\r\n  state = {\r\n    myList: [],\r\n    page: 1, //当前页码\r\n    pageSize: 20, //每页条数\r\n    hasMore: false,\r\n    count: \"0\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMyCollection();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.onresize = null;\r\n  }\r\n\r\n  gzxtest = () => {\r\n    //测试事件\r\n  };\r\n  getMyCollection = () => {\r\n    let _this = this;\r\n    const { page, pageSize, myList } = this.state;\r\n    const { userM4DStore } = this.props;\r\n    userM4DStore.getUserStatus();\r\n    CommodityApi.myCommodityList({\r\n      page: page,\r\n      row: pageSize,\r\n      open_id: userM4DStore.openid,\r\n    }).then((res) => {\r\n      if (res.status !== 1) {\r\n        Toast.info(res.msg);\r\n        return;\r\n      }\r\n      const arr = res.data.list;\r\n      console.log(arr);\r\n      const hasMore = arr.length === pageSize;\r\n      myList.push(...arr);\r\n      this.setState({\r\n        myList,\r\n        hasMore,\r\n        page: hasMore ? page + 1 : 1,\r\n        count: res.data.count,\r\n      });\r\n    });\r\n  };\r\n  getStatusLabel(status) {\r\n    // const {\r\n    //   localeStore: {\r\n    //     locale: { TIBIRECORD },\r\n    //   },\r\n    // } = this.props;\r\n\r\n    //是否售卖，0未售卖，1售卖中，2付款中\r\n    switch (status) {\r\n      case 0:\r\n        return {\r\n          // label: TIBIRECORD.DAI_SHEN_HE,\r\n          // className: 'loading'\r\n          label: \"收藏\",\r\n          className: \"succeed\",\r\n        };\r\n      case 1:\r\n        return {\r\n          label: \"挂卖\",\r\n          className: \"danger\",\r\n        };\r\n      case 2:\r\n        return {\r\n          label: \"收款\",\r\n          className: \"danger\",\r\n        };\r\n      default:\r\n        return {\r\n          label: \"\",\r\n          className: \"\",\r\n        };\r\n    }\r\n  }\r\n  render() {\r\n    const { history } = this.props;\r\n    const {\r\n      localeStore: {\r\n        locale: { SHEQU },\r\n      },\r\n    } = this.props;\r\n    const { myList, hasMore, count } = this.state;\r\n    return (\r\n      <div id=\"ChooseCollection\">\r\n        <AccountHeader />\r\n        <div className=\"it_title\">选择NFT</div>\r\n        <div className=\"goto-jilu\">\r\n          {/* <Icon\r\n            onClick={() => {\r\n              history.push(\"/SearchCollection\");\r\n            }}\r\n            color={\"white\"}\r\n            type={\"search\"}\r\n          /> */}\r\n        </div>\r\n        {/*流水 */}\r\n        <InfiniteScroll\r\n          dataLength={myList.length} //This is important field to render the next data\r\n          next={this.getMyCollection}\r\n          hasMore={hasMore}\r\n          loader={<p className=\"loading\">{\"\"}</p>}\r\n          endMessage={\r\n            <p style={{ textAlign: \"center\", color: \"#ccc\" }}>\r\n              {myList.length <= 0 ? \"\" : \"\"}\r\n            </p>\r\n          }\r\n          refreshFunction={() => {\r\n            window.location.reload();\r\n          }}\r\n          pullDownToRefresh\r\n          pullDownToRefreshThreshold={80}\r\n          pullDownToRefreshContent={\r\n            <h3 style={{ textAlign: \"center\" }}>&#8595; 下拉刷新</h3>\r\n          }\r\n          releaseToRefreshContent={\r\n            <h3 style={{ textAlign: \"center\", fontWeight: \"400\" }}>\r\n              &#8593;松开立即刷新\r\n            </h3>\r\n          }\r\n        >\r\n          <ul>\r\n            {myList.length > 0 &&\r\n              myList.map((item, index) => {\r\n                return (\r\n                  item.sell === 0 && (\r\n                    <li\r\n                      key={item.id}\r\n                      onClick={() => {\r\n                        this.props.history.push({\r\n                          pathname: \"/Transfer\",\r\n                          state: { info: item },\r\n                        });\r\n                        \r\n                      }}\r\n                    >\r\n                      <div className=\"cp_top_box\">\r\n                        <div className=\"cp_left\">\r\n                          <div className=\"img_box\">\r\n                            <img src={item.p_face} />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"cp_right\">\r\n                          <h3>{item.p_name}</h3>\r\n                          <div className=\"cp_tag\">\r\n                          {item.tags&&formatTags(item.tags).map((i) => {\r\n                            return <span key={i}>#{i}#</span>;\r\n                          })|| <span>#暂无标签#</span>}\r\n                        </div>\r\n                          <div className=\"fxf\">授权方：{item.issuer}</div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <p>\r\n                        商品防伪编号：{item.nft_id}\r\n                        {item.ipfs_img_url_hash}\r\n                      </p>\r\n                    </li>\r\n                  )\r\n                );\r\n              })}\r\n          </ul>\r\n        </InfiniteScroll>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChooseCollection;\r\n"],"sourceRoot":""}