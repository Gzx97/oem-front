{"version":3,"sources":["../node_modules/pingpp-js/src/utils.js","../node_modules/pingpp-js/src/callbacks.js","../node_modules/pingpp-js/src/stash.js","../node_modules/pingpp-js/src/mods.js","../node_modules/pingpp-js/src/channels/commons/redirect_base.js","../node_modules/pingpp-js/src/main.js","../node_modules/pingpp-js/src/channels/wx_lite.js","../node_modules/pingpp-js/src/channels/wx_pub.js","../node_modules/pingpp-js/src/payment_elements.js","../node_modules/pingpp-js/src/errors.js","../node_modules/pingpp-js/src/version.js","../node_modules/pingpp-js/src/init.js","../node_modules/pingpp-js/src/testmode.js","../node_modules/pingpp-js/src/channels/alipay.js","../node_modules/pingpp-js/src/channels/alipay_lite.js","../node_modules/pingpp-js/src/channels/alipay_pc_direct.js","../node_modules/pingpp-js/src/channels/alipay_qr.js","../node_modules/pingpp-js/src/channels/alipay_qr_lakala.js","../node_modules/pingpp-js/src/channels/alipay_wap.js","../node_modules/pingpp-js/src/channels/alipay_wap_lakala.js","../node_modules/pingpp-js/src/channels/bfb_wap.js","../node_modules/pingpp-js/src/channels/cb_alipay_pc_direct.js","../node_modules/pingpp-js/src/channels/cb_alipay_wap.js","../node_modules/pingpp-js/src/channels/cb_wx_pub.js","../node_modules/pingpp-js/src/channels/ccb_qr.js","../node_modules/pingpp-js/src/channels/ccb_wap.js","../node_modules/pingpp-js/src/channels/cmb_pc_qr.js","../node_modules/pingpp-js/src/channels/cmb_wallet.js","../node_modules/pingpp-js/src/channels/coolcredit.js","../node_modules/pingpp-js/src/channels/cp_b2b.js","../node_modules/pingpp-js/src/channels/isv_lite.js","../node_modules/pingpp-js/src/channels/isv_wap.js","../node_modules/pingpp-js/src/channels/jdpay_wap.js","../node_modules/pingpp-js/src/channels/pab_pc.js","../node_modules/pingpp-js/src/channels/paypal.js","../node_modules/pingpp-js/src/channels/qpay_pub.js","../node_modules/pingpp-js/src/channels/upacp_b2b.js","../node_modules/pingpp-js/src/channels/upacp_pc.js","../node_modules/pingpp-js/src/channels/upacp_wap.js","../node_modules/pingpp-js/src/channels/wx_lite_pab.js","../node_modules/pingpp-js/src/channels/wx_pub_hzbank.js","../node_modules/pingpp-js/src/channels/wx_pub_pab.js","../node_modules/pingpp-js/src/channels/wx_wap.js","../node_modules/pingpp-js/src/channels/yeepay_wap.js","../node_modules/pingpp-js/src/channels/extras/ap.js","../node_modules/pingpp-js/src/agreement.js"],"names":["callbacks","__webpack_require__","hasOwn","hasOwnProperty","utils","module","exports","stringifyData","data","channel","urlencode","output","i","call","push","encodeURIComponent","join","request","url","method","requestData","successCallback","errorCallback","headers","XMLHttpRequest","xhr","timeout","toUpperCase","open","k","setRequestHeader","send","JSON","stringify","onreadystatechange","readyState","responseText","status","onerror","e","console","log","formSubmit","params","window","form","document","createElement","key","setAttribute","hiddenField","appendChild","body","submit","randomString","length","chars","maxPos","str","charAt","Math","floor","random","redirectTo","shouldReturnUrlByCallback","triggerUrlReturnCallback","location","href","inWeixin","navigator","userAgent","toLowerCase","indexOf","inAlipay","inWxLite","wx","miniProgram","requestPayment","inAlipayLite","my","tradePay","documentReady","fn","addEventListener","loadUrlJs","sid","jsurl","callback","nodeHead","getElementsByTagName","nodeScript","getElementById","async","onload","ready","userCallback","undefined","urlReturnCallback","urlReturnChannels","userAgreementCallback","innerCallback","result","err","this","error","clear","msg","extra","innerAgreementCallback","mods","channels","alipay","alipay_lite","alipay_pc_direct","alipay_qr","alipay_qr_lakala","alipay_wap","alipay_wap_lakala","bfb_wap","cb_alipay_pc_direct","cb_alipay_wap","cb_wx_pub","ccb_qr","ccb_wap","cmb_pc_qr","cmb_wallet","coolcredit","cp_b2b","isv_lite","isv_wap","jdpay_wap","pab_pc","paypal","qpay_pub","upacp_b2b","upacp_pc","upacp_wap","wx_lite","wx_lite_pab","wx_pub","wx_pub_hzbank","wx_pub_pab","wx_wap","yeepay_wap","extras","ap","agreement","getChannelModule","getExtraModule","name","handleCharge","charge","targetURL","credential","version","v","PingppSDK","init","prototype","testmode","PingppError","Error","stash","payment_elements","createPayment","chargeJSON","signature","debug","message","app","app_id","id","paid","actual_amount","channelModule","livemode","runTestMode","setAPURL","APURL","setUrlReturnCallback","Array","isArray","signAgreement","PINGPP_NOTIFY_URL_BASE","fields","jsApiParameters","callpay","wxLiteEnabled","appId","complete","res","errMsg","err_code","err_desc","path","success","fail","self","wx_jssdk","jssdkEnabled","WeixinJSBridge","eventCallback","jsApiCall","attachEvent","invoke","err_msg","confirm","or_id","order_no","time_expire","charge_or_order","parse","object","merchant_order_no","charge_essentials","charges","initPuid","localStorage","puid","getItem","setItem","PINGPP_MOCK_URL","ch_id","scheme","orderNo","timeExpire","orderInfo","alipayLiteEnabled","orderStr","alipayLitePay","test","swuserAgent","waitAlipayJSBridgde","alipayJsBridgePay","errmsg","AlipayJSBridge","alipayResultHandler","tradePayParams","resultCode","memo","httpRequest","trade_no","tradeNO","ALIPAY_PC_DIRECT_URL","baseURL","channel_url","service","_input_charset","query","transaction_no","redirectBase","ALIPAY_WAP_URL_OLD","ALIPAY_WAP_URL","pay","CCB_WAP_URL_BASE","CMB_WALLET_URL","request_url","ChannelUrl","channelVersion","request_data","CP_B2B_URL","wxLite","pay_channel","JDPAY_WAP_URL_OLD","JDPAY_H5_URL","JDPAY_PC_URL","channelUrl","SRC_URL","ID","tokenId","token_id","mqq","QQVersion","tenpay","retmsg","UPACP_PC_URL","UPACP_WAP_URL","wxPub","YEEPAY_WAP_URL","YEEPAY_WAP_TEST_URL","mode","b","a","PADCHAR","ALPHA","makeDOMException","DOMException","INVALID_CHARACTER_ERR","d","c","code","number","description","toString","getbyte64","decode","f","h","g","j","String","fromCharCode","getbyte","charCodeAt","encode","arguments","SyntaxError","decodeURIComponent","agreementObj","urlToOpen","substring","URL","search","setTimeout"],"mappings":"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","file":"static/js/6.6613bd1f.chunk.js","sourcesContent":["var callbacks = require('./callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\nvar utils = module.exports = {\n  /**\n   * 对象转换成 query string\n   * @param object data  待转对象\n   * @param string channel  渠道\n   * @param boolean urlencode  是否需要 urlencode\n   *\n   * @return string query string\n   */\n  stringifyData: function stringifyData(data, channel, urlencode) {\n    if (typeof urlencode == 'undefined') {\n      urlencode = false;\n    }\n\n    var output = [];\n\n    for (var i in data) {\n      if (!hasOwn.call(data, i) || typeof data[i] === 'function') {\n        continue;\n      }\n\n      if (channel == 'bfb_wap' && i == 'url') {\n        continue;\n      }\n\n      if (channel == 'yeepay_wap' && i == 'mode') {\n        continue;\n      }\n\n      if (i == 'channel_url') {\n        continue;\n      }\n\n      output.push(i + '=' + (urlencode ? encodeURIComponent(data[i]) : data[i]));\n    }\n\n    return output.join('&');\n  },\n\n  /**\n   * 网络请求\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object requestData  请求数据\n   * @param function successCallback  成功回调 (data, statusCode, xhr)\n   * @param function errorCallback  错误回调 (xhr, statusCode, error)\n   */\n  request: function request(url, method, requestData, successCallback, errorCallback, headers) {\n    if (typeof XMLHttpRequest === 'undefined') {\n      console.log('Function XMLHttpRequest is undefined.');\n      return;\n    }\n\n    var xhr = new XMLHttpRequest();\n\n    if (typeof xhr.timeout !== 'undefined') {\n      xhr.timeout = 6000;\n    }\n\n    method = method.toUpperCase();\n\n    if (method === 'GET' && typeof requestData === 'object' && requestData) {\n      url += '?' + utils.stringifyData(requestData, '', true);\n    }\n\n    xhr.open(method, url, true);\n\n    if (typeof headers !== 'undefined') {\n      for (var k in headers) {\n        if (hasOwn.call(headers, k)) {\n          xhr.setRequestHeader(k, headers[k]);\n        }\n      }\n    }\n\n    if (method === 'POST') {\n      xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n      xhr.send(JSON.stringify(requestData));\n    } else {\n      xhr.send();\n    }\n\n    if (typeof successCallback == 'undefined') {\n      successCallback = function successCallback() {};\n    }\n\n    if (typeof errorCallback == 'undefined') {\n      errorCallback = function errorCallback() {};\n    }\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        successCallback(xhr.responseText, xhr.status, xhr);\n      }\n    };\n\n    xhr.onerror = function (e) {\n      errorCallback(xhr, 0, e);\n    };\n  },\n\n  /**\n   * 表单提交\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object params  请求数据\n   */\n  formSubmit: function formSubmit(url, method, params) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, form submit url: ' + url);\n      return;\n    }\n\n    var form = document.createElement('form');\n    form.setAttribute('method', method);\n    form.setAttribute('action', url);\n\n    for (var key in params) {\n      if (hasOwn.call(params, key)) {\n        var hiddenField = document.createElement('input');\n        hiddenField.setAttribute('type', 'hidden');\n        hiddenField.setAttribute('name', key);\n        hiddenField.setAttribute('value', params[key]);\n        form.appendChild(hiddenField);\n      }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  },\n  randomString: function randomString(length) {\n    if (typeof length == 'undefined') {\n      length = 32;\n    }\n\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var maxPos = chars.length;\n    var str = '';\n\n    for (var i = 0; i < length; i++) {\n      str += chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n\n    return str;\n  },\n  redirectTo: function redirectTo(url, channel) {\n    if (callbacks.shouldReturnUrlByCallback(channel)) {\n      callbacks.triggerUrlReturnCallback(null, url);\n      return;\n    }\n\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, redirect url: ' + url);\n      return;\n    }\n\n    window.location.href = url;\n  },\n  inWeixin: function inWeixin() {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('micromessenger') !== -1;\n  },\n  inAlipay: function inAlipay() {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('alipayclient') !== -1;\n  },\n\n  /*global wx*/\n  inWxLite: function inWxLite() {\n    if (typeof wx === 'undefined') {\n      return false;\n    }\n\n    return wx.miniProgram || wx.requestPayment;\n  },\n\n  /*global my*/\n  inAlipayLite: function inAlipayLite() {\n    if (typeof my === 'undefined') {\n      return false;\n    }\n\n    return my.tradePay;\n  },\n  documentReady: function documentReady(fn) {\n    if (typeof document === 'undefined') {\n      fn();\n      return;\n    }\n\n    if (document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  },\n  loadUrlJs: function loadUrlJs(sid, jsurl, callback) {\n    var nodeHead = document.getElementsByTagName('head')[0];\n    var nodeScript = null;\n\n    if (document.getElementById(sid) == null) {\n      nodeScript = document.createElement('script');\n      nodeScript.setAttribute('type', 'text/javascript');\n      nodeScript.setAttribute('src', jsurl);\n      nodeScript.setAttribute('id', sid);\n      nodeScript.async = true;\n\n      if (callback != null) {\n        nodeScript.onload = nodeScript.onreadystatechange = function () {\n          if (nodeScript.ready) {\n            return false;\n          }\n\n          if (!nodeScript.readyState || nodeScript.readyState == 'loaded' || nodeScript.readyState == 'complete') {\n            nodeScript.ready = true;\n            callback();\n          }\n        };\n      }\n\n      nodeHead.appendChild(nodeScript);\n    } else {\n      if (callback != null) {\n        callback();\n      }\n    }\n  }\n};","module.exports = {\n  userCallback: undefined,\n  urlReturnCallback: undefined,\n  urlReturnChannels: ['alipay_pc_direct' // 默认只开启 alipay_pc_direct 使用 callback 返回 URL\n  ],\n  userAgreementCallback: undefined,\n  innerCallback: function innerCallback(result, err) {\n    if (typeof this.userCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n\n      this.userCallback(result, err);\n      this.userCallback = undefined;\n\n      var payment_elements = require('./payment_elements');\n\n      payment_elements.clear();\n    }\n  },\n  error: function error(msg, extra) {\n    msg = typeof msg === 'undefined' ? '' : msg;\n    extra = typeof extra === 'undefined' ? '' : extra;\n    return {\n      msg: msg,\n      extra: extra\n    };\n  },\n  triggerUrlReturnCallback: function triggerUrlReturnCallback(err, url) {\n    if (typeof this.urlReturnCallback === 'function') {\n      this.urlReturnCallback(err, url);\n    }\n  },\n  shouldReturnUrlByCallback: function shouldReturnUrlByCallback(channel) {\n    if (typeof this.urlReturnCallback !== 'function') {\n      return false;\n    }\n\n    return this.urlReturnChannels.indexOf(channel) !== -1;\n  },\n  innerAgreementCallback: function innerAgreementCallback(result, err) {\n    if (typeof this.userAgreementCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n\n      this.userAgreementCallback(result, err);\n      this.userAgreementCallback = undefined;\n    }\n  }\n};","module.exports = {};","var hasOwn = {}.hasOwnProperty;\nvar mods = {};\nmodule.exports = mods;\nmods.channels = {\n  alipay: require('./channels/alipay'),\n  alipay_lite: require('./channels/alipay_lite'),\n  alipay_pc_direct: require('./channels/alipay_pc_direct'),\n  alipay_qr: require('./channels/alipay_qr'),\n  alipay_qr_lakala: require('./channels/alipay_qr_lakala'),\n  alipay_wap: require('./channels/alipay_wap'),\n  alipay_wap_lakala: require('./channels/alipay_wap_lakala'),\n  bfb_wap: require('./channels/bfb_wap'),\n  cb_alipay_pc_direct: require('./channels/cb_alipay_pc_direct'),\n  cb_alipay_wap: require('./channels/cb_alipay_wap'),\n  cb_wx_pub: require('./channels/cb_wx_pub'),\n  ccb_qr: require('./channels/ccb_qr'),\n  ccb_wap: require('./channels/ccb_wap'),\n  cmb_pc_qr: require('./channels/cmb_pc_qr'),\n  cmb_wallet: require('./channels/cmb_wallet'),\n  coolcredit: require('./channels/coolcredit'),\n  cp_b2b: require('./channels/cp_b2b'),\n  isv_lite: require('./channels/isv_lite'),\n  isv_wap: require('./channels/isv_wap'),\n  jdpay_wap: require('./channels/jdpay_wap'),\n  pab_pc: require('./channels/pab_pc'),\n  paypal: require('./channels/paypal'),\n  qpay_pub: require('./channels/qpay_pub'),\n  upacp_b2b: require('./channels/upacp_b2b'),\n  upacp_pc: require('./channels/upacp_pc'),\n  upacp_wap: require('./channels/upacp_wap'),\n  wx_lite: require('./channels/wx_lite'),\n  wx_lite_pab: require('./channels/wx_lite_pab'),\n  wx_pub: require('./channels/wx_pub'),\n  wx_pub_hzbank: require('./channels/wx_pub_hzbank'),\n  wx_pub_pab: require('./channels/wx_pub_pab'),\n  wx_wap: require('./channels/wx_wap'),\n  yeepay_wap: require('./channels/yeepay_wap')\n};\nmods.extras = {\n  ap: require('./channels/extras/ap'),\n  agreement: require('./agreement')\n};\n\nmods.getChannelModule = function (channel) {\n  if (hasOwn.call(mods.channels, channel)) {\n    return mods.channels[channel];\n  }\n\n  return undefined;\n};\n\nmods.getExtraModule = function (name) {\n  if (hasOwn.call(mods.extras, name)) {\n    return mods.extras[name];\n  }\n\n  return undefined;\n};","var utils = require('../../utils');\n\nvar callbacks = require('../../callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var targetURL;\n\n    if (typeof credential === 'string') {\n      targetURL = credential;\n    } else if (hasOwn.call(credential, 'url')) {\n      targetURL = credential.url;\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'credential format is incorrect'));\n      return;\n    }\n\n    utils.redirectTo(targetURL, charge.channel);\n  }\n};","var version = require('./version').v;\n\nvar hasOwn = {}.hasOwnProperty;\n\nvar PingppSDK = function PingppSDK() {\n  require('./init').init();\n};\n\nPingppSDK.prototype.version = version;\nmodule.exports = new PingppSDK();\n\nvar testmode = require('./testmode');\n\nvar callbacks = require('./callbacks');\n\nvar PingppError = require('./errors').Error;\n\nvar mods = require('./mods');\n\nvar stash = require('./stash');\n\nvar payment_elements = require('./payment_elements');\n\nPingppSDK.prototype.createPayment = function (chargeJSON, callback, signature, debug) {\n  if (typeof callback === 'function') {\n    callbacks.userCallback = callback;\n  }\n\n  try {\n    payment_elements.init(chargeJSON);\n  } catch (e) {\n    if (e instanceof PingppError) {\n      callbacks.innerCallback('fail', callbacks.error(e.message, e.extra));\n      return;\n    } else {\n      throw e;\n    }\n  }\n\n  if (!hasOwn.call(payment_elements, 'id')) {\n    callbacks.innerCallback('fail', callbacks.error('invalid_charge', 'no_charge_id'));\n    return;\n  }\n\n  if (!hasOwn.call(payment_elements, 'channel')) {\n    callbacks.innerCallback('fail', callbacks.error('invalid_charge', 'no_channel'));\n    return;\n  }\n\n  if (hasOwn.call(payment_elements, 'app')) {\n    if (typeof payment_elements.app === 'string') {\n      stash.app_id = payment_elements.app;\n    } else if (typeof payment_elements.app === 'object' && typeof payment_elements.app.id === 'string') {\n      stash.app_id = payment_elements.app.id;\n    }\n  }\n\n  var channel = payment_elements.channel;\n\n  if (!hasOwn.call(payment_elements, 'credential')) {\n    callbacks.innerCallback('fail', callbacks.error('invalid_charge', 'no_credential'));\n    return;\n  }\n\n  if (payment_elements.paid && payment_elements.actual_amount === 0) {\n    callbacks.innerCallback('success');\n    return;\n  }\n\n  if (!payment_elements.credential) {\n    callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'credential_is_undefined'));\n    return;\n  }\n\n  if (!hasOwn.call(payment_elements.credential, channel)) {\n    callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'credential_is_incorrect'));\n    return;\n  }\n\n  if (!hasOwn.call(payment_elements, 'livemode')) {\n    callbacks.innerCallback('fail', callbacks.error('invalid_charge', 'no_livemode_field'));\n    return;\n  }\n\n  var channelModule = mods.getChannelModule(channel);\n\n  if (typeof channelModule === 'undefined') {\n    console.error('channel module \"' + channel + '\" is undefined');\n    callbacks.innerCallback('fail', callbacks.error('invalid_channel', 'channel module \"' + channel + '\" is undefined'));\n    return;\n  }\n\n  if (payment_elements.livemode === false) {\n    if (hasOwn.call(channelModule, 'runTestMode')) {\n      channelModule.runTestMode(payment_elements);\n    } else {\n      testmode.runTestMode(payment_elements);\n    }\n\n    return;\n  }\n\n  if (typeof signature != 'undefined') {\n    stash.signature = signature;\n  }\n\n  if (typeof debug == 'boolean') {\n    stash.debug = debug;\n  }\n\n  channelModule.handleCharge(payment_elements);\n};\n\nPingppSDK.prototype.setAPURL = function (url) {\n  stash.APURL = url;\n};\n\nPingppSDK.prototype.setUrlReturnCallback = function (callback, channels) {\n  if (typeof callback === 'function') {\n    callbacks.urlReturnCallback = callback;\n  } else {\n    throw 'callback need to be a function';\n  }\n\n  if (typeof channels !== 'undefined') {\n    if (Array.isArray(channels)) {\n      callbacks.urlReturnChannels = channels;\n    } else {\n      throw 'channels need to be an array';\n    }\n  }\n};\n\nPingppSDK.prototype.signAgreement = function (agreement, callback) {\n  if (typeof callback === 'function') {\n    callbacks.userAgreementCallback = callback;\n  }\n\n  var module = mods.getExtraModule('agreement');\n\n  if (typeof module === 'undefined') {\n    console.error('module \"agreement\" is undefined');\n    callbacks.innerCallback('fail', callbacks.error('invalid_module', 'module \"agreement\" is undefined'));\n    return false;\n  }\n\n  return module.signAgreement(agreement);\n};","/**\n * Created by yulitao on 2016/12/29.\n */\nvar stash = require('../stash');\n\nvar callbacks = require('../callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\n/*global wx*/\n\nmodule.exports = {\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = ['appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'];\n\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n  wxLiteEnabled: function wxLiteEnabled() {\n    return typeof wx !== 'undefined' && wx.requestPayment;\n  },\n  //微信小程序支付\n  callpay: function callpay() {\n    if (!this.wxLiteEnabled()) {\n      console.log('请在微信小程序中打开');\n      return;\n    }\n\n    var wx_lite = stash.jsApiParameters;\n    delete wx_lite.appId;\n\n    wx_lite.complete = function (res) {\n      //支付成功\n      if (res.errMsg === 'requestPayment:ok') {\n        callbacks.innerCallback('success');\n      } //取消支付\n\n\n      if (res.errMsg === 'requestPayment:cancel' || res.errMsg === 'requestPayment:fail cancel') {\n        callbacks.innerCallback('cancel', callbacks.error('用户取消支付'));\n      } //支付验证签名失败\n\n\n      if (res.err_code !== 'undefined' && res.err_desc !== 'undefined') {\n        callbacks.innerCallback('fail', callbacks.error(res.err_desc, res));\n      }\n    };\n\n    wx.requestPayment(wx_lite);\n  },\n  runTestMode: function runTestMode(charge) {\n    var path = '/charges/' + charge.id;\n    wx.request({\n      url: this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n      success: function success(res) {\n        if (res.data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail', callbacks.error('testmode_notify_fail'));\n        }\n      },\n      fail: function fail() {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      }\n    });\n  }\n};","var callbacks = require('../callbacks');\n\nvar utils = require('../utils');\n\nvar stash = require('../stash');\n\nvar mods = require('../mods');\n\nvar hasOwn = {}.hasOwnProperty;\n/*global WeixinJSBridge*/\n\nmodule.exports = {\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = ['appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'];\n\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n  callpay: function callpay() {\n    var self = this;\n    var wx_jssdk = mods.getExtraModule('wx_jssdk');\n\n    if (typeof wx_jssdk !== 'undefined' && wx_jssdk.jssdkEnabled()) {\n      wx_jssdk.callpay();\n    } else if (typeof WeixinJSBridge == 'undefined') {\n      var eventCallback = function eventCallback() {\n        self.jsApiCall();\n      };\n\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', eventCallback, false);\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', eventCallback);\n        document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n      }\n    } else {\n      this.jsApiCall();\n    }\n  },\n  jsApiCall: function jsApiCall() {\n    if (hasOwn.call(stash, 'jsApiParameters')) {\n      WeixinJSBridge.invoke('getBrandWCPayRequest', stash.jsApiParameters, function (res) {\n        delete stash.jsApiParameters;\n\n        if (res.err_msg == 'get_brand_wcpay_request:ok') {\n          callbacks.innerCallback('success');\n        } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n          callbacks.innerCallback('cancel');\n        } else {\n          callbacks.innerCallback('fail', callbacks.error('wx_result_fail', res.err_msg));\n        }\n      });\n    }\n  },\n  runTestMode: function runTestMode(charge) {\n    var dopay = confirm('模拟付款？');\n\n    if (dopay) {\n      var path = '/charges/' + charge.id;\n      utils.request(this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false', 'GET', null, function (data, status) {\n        if (status >= 200 && status < 400 && data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          var extra = 'http_code:' + status + ';response:' + data;\n          callbacks.innerCallback('fail', callbacks.error('testmode_notify_fail', extra));\n        }\n      }, function () {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      });\n    }\n  }\n};","/**\n * Created by dong on 2016/12/30.\n */\nvar PingppError = require('./errors').Error;\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  id: null,\n  or_id: null,\n  channel: null,\n  app: null,\n  credential: {},\n  extra: null,\n  livemode: null,\n  order_no: null,\n  time_expire: null,\n  paid: false,\n  status: null,\n  actual_amount: null,\n  init: function init(charge_or_order) {\n    var charge;\n\n    if (typeof charge_or_order === 'string') {\n      try {\n        charge = JSON.parse(charge_or_order);\n      } catch (err) {\n        throw new PingppError('json_decode_fail', err);\n      }\n    } else {\n      charge = charge_or_order;\n    }\n\n    if (typeof charge === 'undefined') {\n      throw new PingppError('json_decode_fail');\n    }\n\n    if (hasOwn.call(charge, 'object') && charge.object == 'order') {\n      charge.or_id = charge.id;\n      charge.order_no = charge.merchant_order_no;\n      var charge_essentials = charge.charge_essentials;\n      charge.channel = charge_essentials.channel;\n      charge.credential = charge_essentials.credential;\n      charge.extra = charge_essentials.extra;\n\n      if (hasOwn.call(charge, 'charge') && charge.charge != null) {\n        charge.id = charge.charge;\n      } else if (hasOwn.call(charge_essentials, 'id') && charge_essentials.id != null) {\n        charge.id = charge_essentials.id;\n      } else if (hasOwn.call(charge, 'charges')) {\n        for (var i = 0; i < charge.charges.data.length; i++) {\n          if (charge.charges.data[i].channel === charge_essentials.channel) {\n            charge.id = charge.charges.data[i].id;\n            break;\n          }\n        }\n      }\n    } else if (hasOwn.call(charge, 'object') && charge.object == 'recharge') {\n      charge = charge.charge;\n    }\n\n    for (var key in this) {\n      if (hasOwn.call(charge, key)) {\n        this[key] = charge[key];\n      }\n    }\n\n    return this;\n  },\n  clear: function clear() {\n    for (var key in this) {\n      if (typeof this[key] !== 'function') {\n        this[key] = null;\n      }\n    }\n  }\n};","var error = function PingppError(message, extra) {\n  this.message = message;\n  this.extra = extra;\n};\n\nmodule.exports = {\n  Error: error\n};","module.exports = {\n  v: '2.2.22'\n};","var stash = require('./stash');\n\nvar utils = require('./utils');\n\nmodule.exports = {\n  init: function init() {\n    var self = this;\n    utils.documentReady(function () {\n      try {\n        !(utils.inWxLite() || utils.inAlipayLite()) && self.initPuid();\n      } catch (e) {\n        /* empty */\n      }\n    });\n  },\n  initPuid: function initPuid() {\n    if (typeof window === 'undefined' || typeof localStorage === 'undefined' || localStorage === null) {\n      return;\n    }\n\n    var puid = localStorage.getItem('pingpp_uid');\n\n    if (puid === null) {\n      puid = utils.randomString();\n\n      try {\n        localStorage.setItem('pingpp_uid', puid);\n      } catch (e) {\n        /* empty */\n      }\n    }\n\n    stash.puid = puid;\n  }\n};","var utils = require('./utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  PINGPP_MOCK_URL: 'http://sissi.pingxx.com/mock.php',\n  runTestMode: function runTestMode(charge) {\n    var params = {\n      'ch_id': charge.id,\n      'scheme': 'http',\n      'channel': charge.channel\n    };\n\n    if (hasOwn.call(charge, 'order_no')) {\n      params.order_no = charge.order_no;\n    } else if (hasOwn.call(charge, 'orderNo')) {\n      params.order_no = charge.orderNo;\n    }\n\n    if (hasOwn.call(charge, 'time_expire')) {\n      params.time_expire = charge.time_expire;\n    } else if (hasOwn.call(charge, 'timeExpire')) {\n      params.time_expire = charge.timeExpire;\n    }\n\n    if (hasOwn.call(charge, 'extra')) {\n      params.extra = encodeURIComponent(JSON.stringify(charge.extra));\n    }\n\n    utils.redirectTo(this.PINGPP_MOCK_URL + '?' + utils.stringifyData(params), charge.channel);\n  }\n};","var callbacks = require('../callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\n/*global my,AlipayJSBridge*/\n\nmodule.exports = {\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n\n    if (credential || hasOwn.call(credential, 'orderInfo')) {\n      this.callpay(credential.orderInfo);\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_alipay'));\n    }\n  },\n  alipayLiteEnabled: function alipayLiteEnabled() {\n    return typeof my !== 'undefined' && my.tradePay;\n  },\n  // 支付宝小程序支付\n  callpay: function callpay(orderStr) {\n    var self = this;\n\n    if (this.alipayLiteEnabled()) {\n      return this.alipayLitePay(orderStr);\n    }\n\n    if (typeof navigator !== 'undefined' && /AlipayClient/.test(navigator.userAgent || navigator.swuserAgent)) {\n      return this.waitAlipayJSBridgde(function () {\n        self.alipayJsBridgePay(orderStr);\n      });\n    }\n\n    var errmsg = '请在支付宝小程序或者支付宝应用内中打开';\n    console.log(errmsg);\n    callbacks.innerCallback('fail', callbacks.error(errmsg));\n    return;\n  },\n  waitAlipayJSBridgde: function waitAlipayJSBridgde(callback) {\n    if (window.AlipayJSBridge) {\n      callback && callback();\n    } else {\n      document.addEventListener('AlipayJSBridgeReady', callback, false);\n    }\n  },\n  alipayJsBridgePay: function alipayJsBridgePay(orderStr) {\n    AlipayJSBridge.call('tradePay', {\n      orderStr: orderStr\n    }, this.alipayResultHandler);\n  },\n  alipayLitePay: function alipayLitePay(orderStr) {\n    var tradePayParams = {};\n    tradePayParams.orderStr = orderStr;\n    tradePayParams.complete = this.alipayResultHandler;\n    my.tradePay(tradePayParams);\n  },\n  alipayResultHandler: function alipayResultHandler(res) {\n    var extra = {\n      resultCode: res.resultCode\n    };\n\n    if (hasOwn.call(res, 'memo')) {\n      extra.memo = res.memo;\n    }\n\n    if (hasOwn.call(res, 'result')) {\n      extra.result = res.result;\n    } // 支付成功\n\n\n    if (res.resultCode == '9000') {\n      callbacks.innerCallback('success', callbacks.error('', extra));\n    } else if (res.resultCode == '6001') {\n      // 取消支付\n      callbacks.innerCallback('cancel', callbacks.error('用户取消支付', extra));\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('支付失败', extra));\n    }\n  },\n  runTestMode: function runTestMode(charge) {\n    var path = '/charges/' + charge.id;\n    my.httpRequest({\n      url: this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n      success: function success(res) {\n        if (res.data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail', callbacks.error('testmode_notify_fail'));\n        }\n      },\n      fail: function fail() {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      }\n    });\n  }\n};","var callbacks = require('../callbacks');\n/*global my*/\n\n\nmodule.exports = {\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n  handleCharge: function handleCharge(charge) {\n    var trade_no = charge.credential[charge.channel];\n\n    if (trade_no) {\n      this.callpay(trade_no);\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_alipay_lite'));\n    }\n  },\n  alipayLiteEnabled: function alipayLiteEnabled() {\n    return typeof my !== 'undefined' && my.tradePay;\n  },\n  //支付宝小程序支付\n  callpay: function callpay(tradeNO) {\n    if (!this.alipayLiteEnabled()) {\n      console.log('请在支付宝小程序中打开');\n      return;\n    }\n\n    var alipay_lite = {};\n    alipay_lite.tradeNO = tradeNO;\n\n    alipay_lite.complete = function (res) {\n      //支付成功\n      if (res.resultCode == 9000) {\n        callbacks.innerCallback('success');\n      } else if (res.resultCode == 6001) {\n        //取消支付\n        callbacks.innerCallback('cancel', callbacks.error('用户取消支付'));\n      } else {\n        callbacks.innerCallback('fail', callbacks.error('支付失败'));\n      }\n    };\n\n    my.tradePay(alipay_lite);\n  },\n  runTestMode: function runTestMode(charge) {\n    var path = '/charges/' + charge.id;\n    my.httpRequest({\n      url: this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n      success: function success(res) {\n        if (res.data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail', callbacks.error('testmode_notify_fail'));\n        }\n      },\n      fail: function fail() {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      }\n    });\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  ALIPAY_PC_DIRECT_URL: 'https://mapi.alipay.com/gateway.do',\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_PC_DIRECT_URL;\n\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if (hasOwn.call(credential, 'service') && credential.service === 'create_direct_pay_by_user') {\n        credential._input_charset = 'utf-8';\n      }\n    }\n\n    var query = utils.stringifyData(credential, channel, true);\n    utils.redirectTo(baseURL + '?' + query, channel);\n  }\n};","var hasOwn = {}.hasOwnProperty;\n\nvar callbacks = require('../callbacks');\n/*global AlipayJSBridge*/\n\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n\n    if (hasOwn.call(credential, 'transaction_no')) {\n      this.tradePay(credential.transaction_no);\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field_transaction_no'));\n    }\n  },\n  ready: function ready(callback) {\n    if (window.AlipayJSBridge) {\n      callback && callback();\n    } else {\n      document.addEventListener('AlipayJSBridgeReady', callback, false);\n    }\n  },\n  tradePay: function tradePay(tradeNO) {\n    this.ready(function () {\n      // 通过传入交易号唤起快捷调用方式(注意tradeNO大小写严格)\n      AlipayJSBridge.call('tradePay', {\n        tradeNO: tradeNO\n      }, function (data) {\n        if ('9000' == data.resultCode) {\n          callbacks.innerCallback('success');\n        } else if ('6001' == data.resultCode) {\n          callbacks.innerCallback('cancel', callbacks.error(data.result));\n        } else {\n          callbacks.innerCallback('fail', callbacks.error(data.result));\n        }\n      });\n    });\n  }\n};","var redirectBase = require('./commons/redirect_base');\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    redirectBase.handleCharge(charge);\n  }\n};","var utils = require('../utils');\n\nvar mods = require('../mods');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  ALIPAY_WAP_URL_OLD: 'https://wappaygw.alipay.com/service/rest.htm',\n  ALIPAY_WAP_URL: 'https://mapi.alipay.com/gateway.do',\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_WAP_URL;\n\n    if (hasOwn.call(credential, 'req_data')) {\n      baseURL = this.ALIPAY_WAP_URL_OLD;\n    } else if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if (hasOwn.call(credential, 'service') && credential.service === 'alipay.wap.create.direct.pay.by.user' || hasOwn.call(credential, 'req_data')) {\n        credential._input_charset = 'utf-8';\n      }\n    }\n\n    var query = utils.stringifyData(credential, channel, true);\n    var targetURL = baseURL + '?' + query;\n    var ap = mods.getExtraModule('ap');\n\n    if (utils.inWeixin() && typeof ap !== 'undefined') {\n      ap.pay(targetURL);\n    } else {\n      utils.redirectTo(targetURL, channel);\n    }\n  }\n};","var redirectBase = require('./commons/redirect_base');\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    redirectBase.handleCharge(charge);\n  }\n};","var utils = require('../utils');\n\nvar callbacks = require('../callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n\n    if (!hasOwn.call(credential, 'url')) {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field:url'));\n      return;\n    }\n\n    utils.redirectTo(credential.url + '?' + utils.stringifyData(credential, channel), channel);\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  ALIPAY_PC_DIRECT_URL: 'https://intlmapi.alipay.com/gateway.do',\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_PC_DIRECT_URL;\n\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if (hasOwn.call(credential, 'service') && credential.service === 'create_forex_trade') {\n        credential._input_charset = 'utf-8';\n      }\n    }\n\n    var query = utils.stringifyData(credential, channel, true);\n    utils.redirectTo(baseURL + '?' + query, channel);\n  }\n};","var utils = require('../utils');\n\nvar mods = require('../mods');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  ALIPAY_WAP_URL: 'https://intlmapi.alipay.com/gateway.do',\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL = this.ALIPAY_WAP_URL;\n\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n    }\n\n    if (!hasOwn.call(credential, '_input_charset')) {\n      if (hasOwn.call(credential, 'service') && credential.service === 'create_forex_trade_wap') {\n        credential._input_charset = 'utf-8';\n      }\n    }\n\n    var query = utils.stringifyData(credential, channel, true);\n    var targetURL = baseURL + '?' + query;\n    var ap = mods.getExtraModule('ap');\n\n    if (utils.inWeixin() && typeof ap !== 'undefined') {\n      ap.pay(targetURL);\n    } else {\n      utils.redirectTo(targetURL, channel);\n    }\n  }\n};","var callbacks = require('../callbacks');\n\nvar utils = require('../utils');\n\nvar stash = require('../stash');\n\nvar mods = require('../mods');\n\nvar hasOwn = {}.hasOwnProperty;\n/*global WeixinJSBridge*/\n\nmodule.exports = {\n  PINGPP_NOTIFY_URL_BASE: 'https://notify.pingxx.com/notify',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = ['appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'];\n\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n  callpay: function callpay() {\n    var self = this;\n    var wx_jssdk = mods.getExtraModule('wx_jssdk');\n\n    if (typeof wx_jssdk !== 'undefined' && wx_jssdk.jssdkEnabled()) {\n      wx_jssdk.callpay();\n    } else if (typeof WeixinJSBridge == 'undefined') {\n      var eventCallback = function eventCallback() {\n        self.jsApiCall();\n      };\n\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', eventCallback, false);\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', eventCallback);\n        document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n      }\n    } else {\n      this.jsApiCall();\n    }\n  },\n  jsApiCall: function jsApiCall() {\n    if (hasOwn.call(stash, 'jsApiParameters')) {\n      WeixinJSBridge.invoke('getBrandWCPayRequest', stash.jsApiParameters, function (res) {\n        delete stash.jsApiParameters;\n\n        if (res.err_msg == 'get_brand_wcpay_request:ok') {\n          callbacks.innerCallback('success');\n        } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n          callbacks.innerCallback('cancel');\n        } else {\n          callbacks.innerCallback('fail', callbacks.error('wx_result_fail', res.err_msg));\n        }\n      });\n    }\n  },\n  runTestMode: function runTestMode(charge) {\n    var dopay = confirm('模拟付款？');\n\n    if (dopay) {\n      var path = '/charges/' + charge.id;\n      utils.request(this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false', 'GET', null, function (data, status) {\n        if (status >= 200 && status < 400 && data == 'success') {\n          callbacks.innerCallback('success');\n        } else {\n          var extra = 'http_code:' + status + ';response:' + data;\n          callbacks.innerCallback('fail', callbacks.error('testmode_notify_fail', extra));\n        }\n      }, function () {\n        callbacks.innerCallback('fail', callbacks.error('network_err'));\n      });\n    }\n  }\n};","var redirectBase = require('./commons/redirect_base');\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    redirectBase.handleCharge(charge);\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\n\nvar callbacks = require('../callbacks');\n\nmodule.exports = {\n  CCB_WAP_URL_BASE: 'https://ibsbjstar.ccb.com.cn/CCBIS/ccbMain?',\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n\n    if (!hasOwn.call(credential, 'orderinfo')) {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field:orderinfo'));\n      return;\n    }\n\n    var targetURL = this.CCB_WAP_URL_BASE + credential['orderinfo'];\n    utils.redirectTo(targetURL, channel);\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL;\n\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n      delete credential.channel_url;\n    }\n\n    utils.formSubmit(baseURL, 'post', credential);\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  CMB_WALLET_URL: 'https://netpay.cmbchina.com/netpayment/BaseHttp.dll?MB_EUserPay',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = this.CMB_WALLET_URL;\n\n    if (hasOwn.call(credential, 'ChannelUrl')) {\n      request_url = credential.ChannelUrl;\n      delete credential.ChannelUrl;\n    }\n\n    if (hasOwn.call(credential, 'channelVersion')) {\n      delete credential.channelVersion;\n    }\n\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(credential.request_url, 'post', credential.request_data);\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n  CP_B2B_URL: 'https://payment.chinapay.com/CTITS/service/rest/page/nref/000000000017/0/0/0/0/0',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.CP_B2B_URL, 'post', credential);\n  }\n};","var wxLite = require('./wx_lite');\n\nmodule.exports = wxLite;","var redirectBase = require('./commons/redirect_base');\n\nvar callbacks = require('../callbacks');\n\nvar utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var extra = charge.extra;\n\n    if (hasOwn.call(extra, 'pay_channel')) {\n      var pay_channel = extra.pay_channel;\n\n      if (pay_channel === 'wx' && !utils.inWeixin()) {\n        callbacks.innerCallback('fail', callbacks.error('Not in the WeChat browser'));\n        return;\n      } else if (pay_channel === 'alipay' && !utils.inAlipay()) {\n        callbacks.innerCallback('fail', callbacks.error('Not in the Alipay browser'));\n        return;\n      }\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_charge', 'charge 格式不正确'));\n      return;\n    }\n\n    redirectBase.handleCharge(charge);\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  JDPAY_WAP_URL_OLD: 'https://m.jdpay.com/wepay/web/pay',\n  JDPAY_H5_URL: 'https://h5pay.jd.com/jdpay/saveOrder',\n  JDPAY_PC_URL: 'https://wepay.jd.com/jdpay/saveOrder',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = this.JDPAY_H5_URL;\n\n    if (hasOwn.call(credential, 'channelUrl')) {\n      request_url = credential.channelUrl;\n      delete credential.channelUrl;\n    } else if (hasOwn.call(credential, 'merchantRemark')) {\n      request_url = this.JDPAY_WAP_URL_OLD;\n    }\n\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    var request_url = credential.channelUrl;\n    delete credential.channelUrl;\n    utils.formSubmit(request_url, 'post', credential);\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.redirectTo(credential, charge.channel);\n  }\n};","var callbacks = require('../callbacks');\n\nvar utils = require('../utils');\n\nvar stash = require('../stash');\n\nvar hasOwn = {}.hasOwnProperty;\n/*global mqq*/\n\nmodule.exports = {\n  SRC_URL: 'https://open.mobile.qq.com/sdk/qqapi.js?_bid=152',\n  ID: 'mqq_api',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n\n    if (!hasOwn.call(credential, 'token_id')) {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_token_id'));\n      return;\n    }\n\n    stash.tokenId = credential.token_id;\n    utils.loadUrlJs(this.ID, this.SRC_URL, this.callpay);\n  },\n  callpay: function callpay() {\n    if (typeof mqq != 'undefined') {\n      if (mqq.QQVersion == 0) {\n        callbacks.innerCallback('fail', callbacks.error('Not in the QQ client'));\n        delete stash.tokenId;\n        return;\n      }\n\n      mqq.tenpay.pay({\n        tokenId: stash.tokenId\n      }, function (result) {\n        if (result.resultCode == 0) {\n          callbacks.innerCallback('success');\n        } else {\n          callbacks.innerCallback('fail', callbacks.error(result.retmsg));\n        }\n      });\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('network_err'));\n    }\n\n    delete stash.tokenId;\n  }\n};","var utils = require('../utils');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var baseURL;\n\n    if (hasOwn.call(credential, 'channel_url')) {\n      baseURL = credential.channel_url;\n      delete credential.channel_url;\n    }\n\n    utils.formSubmit(baseURL, 'post', credential);\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n  UPACP_PC_URL: 'https://gateway.95516.com/gateway/api/frontTransReq.do',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.UPACP_PC_URL, 'post', credential);\n  }\n};","var utils = require('../utils');\n\nmodule.exports = {\n  UPACP_WAP_URL: 'https://gateway.95516.com/gateway/api/frontTransReq.do',\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n    utils.formSubmit(this.UPACP_WAP_URL, 'post', credential);\n  }\n};","var wxLite = require('./wx_lite');\n\nmodule.exports = wxLite;","var wxPub = require('./wx_pub');\n\nmodule.exports = wxPub;","var wxPub = require('./wx_pub');\n\nmodule.exports = wxPub;","var utils = require('../utils');\n\nvar callbacks = require('../callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  handleCharge: function handleCharge(charge) {\n    var credential = charge.credential[charge.channel];\n\n    if (typeof credential === 'string') {\n      utils.redirectTo(credential, charge.channel);\n    } else if (typeof credential === 'object' && hasOwn.call(credential, 'url')) {\n      utils.redirectTo(credential.url, charge.channel);\n    } else {\n      callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'credential 格式不正确'));\n    }\n  }\n};","var utils = require('../utils');\n\nvar callbacks = require('../callbacks');\n\nvar hasOwn = {}.hasOwnProperty;\nmodule.exports = {\n  YEEPAY_WAP_URL: 'https://ok.yeepay.com/paymobile/api/pay/request',\n  YEEPAY_WAP_TEST_URL: 'http://mobiletest.yeepay.com/paymobile/api/pay/request',\n  handleCharge: function handleCharge(charge) {\n    var channel = charge.channel;\n    var credential = charge.credential[channel];\n    var fields = ['merchantaccount', 'encryptkey', 'data'];\n\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail', callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n\n    var baseURL;\n\n    if (hasOwn.call(credential, 'mode') && credential.mode == 'test') {\n      baseURL = this.YEEPAY_WAP_TEST_URL;\n    } else {\n      baseURL = this.YEEPAY_WAP_URL;\n    }\n\n    utils.redirectTo(baseURL + '?' + utils.stringifyData(credential, channel, true), charge.channel);\n  }\n};","var stash = require('../../stash');\n\nvar hasOwn = {}.hasOwnProperty;\n\n(function () {\n  var b = {};\n  var a = {};\n  a.PADCHAR = '=';\n  a.ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  a.makeDOMException = function () {\n    try {\n      return new DOMException(DOMException.INVALID_CHARACTER_ERR);\n    } catch (d) {\n      var c = new Error('DOM Exception 5');\n      c.code = c.number = 5;\n      c.name = c.description = 'INVALID_CHARACTER_ERR';\n\n      c.toString = function () {\n        return 'Error: ' + c.name + ': ' + c.message;\n      };\n\n      return c;\n    }\n  };\n\n  a.getbyte64 = function (e, d) {\n    var c = a.ALPHA.indexOf(e.charAt(d));\n\n    if (c === -1) {\n      throw a.makeDOMException();\n    }\n\n    return c;\n  };\n\n  a.decode = function (f) {\n    f = '' + f;\n    var j = a.getbyte64;\n    var h, e, g;\n    var d = f.length;\n\n    if (d === 0) {\n      return f;\n    }\n\n    if (d % 4 !== 0) {\n      throw a.makeDOMException();\n    }\n\n    h = 0;\n\n    if (f.charAt(d - 1) === a.PADCHAR) {\n      h = 1;\n\n      if (f.charAt(d - 2) === a.PADCHAR) {\n        h = 2;\n      }\n\n      d -= 4;\n    }\n\n    var c = [];\n\n    for (e = 0; e < d; e += 4) {\n      g = j(f, e) << 18 | j(f, e + 1) << 12 | j(f, e + 2) << 6 | j(f, e + 3);\n      c.push(String.fromCharCode(g >> 16, g >> 8 & 255, g & 255));\n    }\n\n    switch (h) {\n      case 1:\n        g = j(f, e) << 18 | j(f, e + 1) << 12 | j(f, e + 2) << 6;\n        c.push(String.fromCharCode(g >> 16, g >> 8 & 255));\n        break;\n\n      case 2:\n        g = j(f, e) << 18 | j(f, e + 1) << 12;\n        c.push(String.fromCharCode(g >> 16));\n        break;\n    }\n\n    return c.join('');\n  };\n\n  a.getbyte = function (e, d) {\n    var c = e.charCodeAt(d);\n\n    if (c > 255) {\n      throw a.makeDOMException();\n    }\n\n    return c;\n  };\n\n  a.encode = function (f) {\n    if (arguments.length !== 1) {\n      throw new SyntaxError('Not enough arguments');\n    }\n\n    var g = a.PADCHAR;\n    var h = a.ALPHA;\n    var k = a.getbyte;\n    var e, j;\n    var c = [];\n    f = '' + f;\n    var d = f.length - f.length % 3;\n\n    if (f.length === 0) {\n      return f;\n    }\n\n    for (e = 0; e < d; e += 3) {\n      j = k(f, e) << 16 | k(f, e + 1) << 8 | k(f, e + 2);\n      c.push(h.charAt(j >> 18));\n      c.push(h.charAt(j >> 12 & 63));\n      c.push(h.charAt(j >> 6 & 63));\n      c.push(h.charAt(j & 63));\n    }\n\n    switch (f.length - d) {\n      case 1:\n        j = k(f, e) << 16;\n        c.push(h.charAt(j >> 18) + h.charAt(j >> 12 & 63) + g + g);\n        break;\n\n      case 2:\n        j = k(f, e) << 16 | k(f, e + 1) << 8;\n        c.push(h.charAt(j >> 18) + h.charAt(j >> 12 & 63) + h.charAt(j >> 6 & 63) + g);\n        break;\n    }\n\n    return c.join('');\n  };\n\n  b.url = 'pay.htm';\n\n  b.pay = function (d) {\n    var c = encodeURIComponent(a.encode(d));\n\n    if (hasOwn.call(stash, 'APURL')) {\n      b.url = stash.APURL;\n    }\n\n    location.href = b.url + '?goto=' + c;\n  };\n\n  b.decode = function (c) {\n    return a.decode(decodeURIComponent(c));\n  };\n\n  module.exports = b;\n})();","var hasOwn = {}.hasOwnProperty;\n\nvar callbacks = require('./callbacks');\n\nvar utils = require('./utils');\n\nmodule.exports = {\n  signAgreement: function signAgreement(agreement) {\n    var agreementObj;\n\n    if (typeof agreement === 'string') {\n      try {\n        agreementObj = JSON.parse(agreement);\n      } catch (err) {\n        callbacks.innerAgreementCallback('fail', callbacks.error('json_decode_fail', err));\n        return false;\n      }\n    } else {\n      agreementObj = agreement;\n    }\n\n    if (typeof agreementObj === 'undefined') {\n      callbacks.innerAgreementCallback('fail', callbacks.error('json_decode_fail'));\n      return false;\n    }\n\n    if (!hasOwn.call(agreementObj, 'object') || agreementObj.object !== 'agreement' || !hasOwn.call(agreementObj, 'channel') || !hasOwn.call(agreementObj, 'credential') || typeof agreementObj.credential !== 'object') {\n      callbacks.innerAgreementCallback('fail', callbacks.error('invalid_object'));\n      return false;\n    }\n\n    if (!hasOwn.call(agreementObj.credential, agreementObj.channel)) {\n      callbacks.innerAgreementCallback('fail', callbacks.error('invalid_credential'));\n      return false;\n    }\n\n    var credential = agreementObj.credential[agreementObj.channel];\n    var urlToOpen;\n\n    if (typeof credential === 'string') {\n      urlToOpen = credential;\n    } else if (hasOwn.call(credential, 'credential') && typeof credential.credential === 'string') {\n      urlToOpen = credential.credential;\n    }\n\n    if (typeof urlToOpen === 'undefined') {\n      callbacks.innerAgreementCallback('fail', callbacks.error('invalid_credential'));\n      return false;\n    }\n\n    if (agreementObj.channel.substring(0, 6) === 'alipay') {\n      var url = new URL(urlToOpen);\n      urlToOpen = 'http://d.alipay.com/i/index.htm?iframeSrc=' + encodeURIComponent('alipays://platformapi/startapp?appId=60000157' + '&appClearTop=false&startMultApp=YES&sign_params=' + encodeURIComponent(url.search.substring(1)));\n    }\n\n    setTimeout(function () {\n      utils.redirectTo(urlToOpen);\n    }, 0);\n    return true;\n  }\n};"],"sourceRoot":""}