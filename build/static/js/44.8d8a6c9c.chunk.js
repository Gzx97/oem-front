(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{193:function(t,e,n){"use strict";var o,r=n(194),a=n(7),i=n(8),s=n(28),c=n(27),u=n(29),l=n(1),g=n.n(l),A=n(45),m=(n(196),n(33)),f=Object(m.b)("localeStore")(o=Object(m.c)(o=function(t){function e(){var t,n;Object(a.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(r)))).onBack=function(){var t=n.props,e=t.history,o=t.onHandle;o?o():e.goBack&&window.history.length>1?window.history.go(-1):e.push("/home")},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this.props;t.history,t.onHandle}},{key:"render",value:function(){var t=this.props,e=t.src;Object(r.a)(t.localeStore);var o=this.props,a=(o.msg,o.hideBack);return g.a.createElement("div",{style:this.props.style||{},className:"account-header"},g.a.createElement("img",{className:a?"hidden":"",src:e&&e||n(195),alt:"\u8fd4\u56de",onClick:this.onBack}))}}]),e}(l.Component))||o)||o;e.a=Object(A.d)(f)},195:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAAACeqFUAAACI0lEQVRYCb2YO0gDQRRFs34bQQiCaFDwA4pCioBFRAsLtbETG3tBLGwEK1uxsrOwshRBRKwsLKwEOxUxECsRJCKGaOI/ajwTLIbNzursTDJww8x78+55O7txJaFQgFEoFJrQJnpA52gsgI1ZCdAWlEDyeGPRaeasUQ0sgpJyB9J8QcOqZGtNSUQRANhO6hCprvxTUWovTBMd6Eq6evdUPCsRe0QPJwDd6NpNltYvzEc9Su2FAPSgGwnqnj4RGLFH9HAC0I9u3WRpnWM+7FFqLwQgiu4kqHv6SCBuj+jhBCCG7t1kaZ1hPuBRai8kAEiAVCNNImaP6OEEII7EkauGuFVRj1J7IQBDSDx8qiEe2n57xFInB0CYcAI1l6aLkQ8+Z1FSkTcJpym+dBynEKKRNdUxVCh+AqdNnMgFXfWZXJaF2j3RSA6jBgtmJhbZKqrLce91m0qJRnZ1q8qwf1ncmjqMz1CvD0D8H5LxyQdNiW/NNt+ag6IBzYhXfQqpxjGJyjxHgMSLzu/P+wH5+qCXrlUHaBA9I9XYIVGtZRp0M6Bx9K7qhPgGcoL6a9UBmkJfSDVWtQxNNtPBjKqL3/iSib9WLcDFP5qZ0zI02UwjKz7NfJObNvHXqgW27tNMntyElmHQzYCq0JZPM1lyrUH9teoA1aJ9n2bmtQxdm8VL71+D90GejZPoSFFQq4iXJ8yJNKJT18m8su4qD9HHFWgYWf2h5gfF7AOA8qMQfgAAAABJRU5ErkJggg=="},196:function(t,e,n){},197:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return g}),n.d(e,"a",function(){return m}),n.d(e,"i",function(){return p}),n.d(e,"h",function(){return h}),n.d(e,"d",function(){return d});var o=n(198),r=n.n(o),a=n(13),i=n(42);!function(){var t=localStorage.getItem("LANG")||"zh-cn";i.a[t]}();function s(t){return t?r()(1e3*t).format("YYYY\u5e74MM\u6708DD\u65e5"):""}function c(t){return t?r()(1e3*t).format("YYYY.MM.DD HH:mm"):""}function u(t){return t?r()(1e3*t).format("MM\u6708DD\u65e5 HH:mm:ss"):""}function l(t,e){return e=e||a.b,t?A(f(t,e)):0}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b;return t?A(f(t,e)):0}function A(t){return t?"undefined"==typeof t||null==t||""==t.trim()?t:Number(String(parseFloat(t))):"0"}function m(t){return(t=t.toString()).slice(0,3)+"****"+t.substring(t.length-4)}function f(t,e){var n="0";if(Number(t)&&e>0)if(e=+e||2,/e/.test(t+=""))n=0;else if(/\./.test(t)){t+="".concat(Array(e+1).join("0")),n=new RegExp("-?\\d*.\\d{0,".concat(e,"}")).exec(t)[0]}else n=t+".".concat(Array(e+1).join("0"));return n}function p(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?n[2]:null}function h(t){if(!t)return 0;if(t>0)return l(t);var e=t.toString();return e.split(".")[0]+/\.0*?[^0].?/.exec(e)[0]}function d(t){return t.split(",")}},265:function(t,e){},266:function(t,e){},384:function(t,e,n){},489:function(t,e,n){"use strict";n.r(e);n(112);var o,r=n(72),a=n.n(r),i=(n(221),n(225)),s=n.n(i),c=n(0),u=(n(70),n(34)),l=n.n(u),g=n(7),A=n(8),m=n(28),f=n(27),p=n(71),h=n(29),d=n(1),v=n.n(d),b=n(33),S=(n(9),n(18)),E=(n(13),n(384),n(193)),I=(n(199),n(261),n(197)),j=Object(b.b)("userM4DStore")(o=Object(b.b)("localeStore")(o=Object(b.c)(o=function(t){function e(){var t,n;Object(g.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(m.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={files:[],multiple:!1,reason:"",serviceArr:[],showBigImg:!1,bigSrc:"",imgLoading:!1,upImgArr:[],page:1,pageSize:10,hasMore:!1,isSubmit:!0,valueLength:0},n.onChange=function(t,e,o){var r=Object(p.a)(n);console.log(t,e,o);var a=n.props,i=a.userM4DStore,s=(a.history,n.state.upImgArr);if(Array.prototype.remove=function(t){for(var e=0;e<this.length;e++){var n=this[e];if(isNaN(t)||(n=e),n==t){for(var o=e;o<this.length;o++)this[o]=this[o+1];this.length=this.length-1}}},"remove"===e){var c=s;return c.remove(o),console.log(c),void r.setState({files:t,upImgArr:c})}n.setState({files:t,imgLoading:!0}),S.a.uploadphoto({open_id:i.openid,file:t[t.length-1].file}).then(function(t){if(1===t.status){var e=s;e.push(t.data.fileUrl),r.setState({imgLoading:!1,upImgArr:e},function(){})}else l.a.info(t.msg,1,function(){r.setState({imgLoading:!1,files:[],upImgArr:[]})})})},n.onInputChange=function(t,e){var o=n.props.localeStore.locale.CUSTOMERSERVIXE,r=Object(p.a)(n),a=t.target.value;console.log(a),n.setState({valueLength:a.length}),a.length>200?l.a.info(o.MORE_INPUT,1,function(){r.setState({valueLength:0})}):n.setState(Object(c.a)({},e,a))},n.imgToArr=function(t){console.log(t);var e=Object(p.a)(n),o="https://dagetest.oss-cn-hongkong.aliyuncs.com/m4dfaq/1590584610.jpg|https://dagetest.oss-cn-hongkong.aliyuncs.com/m4dfaq/1590584613.jpg|https://dagetest.oss-cn-hongkong.aliyuncs.com/m4dfaq/1590584618.jpg|";console.log(o.split("|"));var r=o.split("|");r.pop(),r.map(function(t,n){return v.a.createElement("img",{onClick:function(){e.setState({bigSrc:t,showBigImg:!0})},src:t})})},n.onSubmit=function(){n.props.localeStore.locale.CUSTOMERSERVIXE;var t=n.props,e=(t.history,t.userM4DStore),o=n.state,r=o.upImgArr,a=(o.files,o.reason),i=(o.showBigImg,o.serviceArr,o.imgLoading,Object(p.a)(n));n.setState({isSubmit:!1}),console.log(a);var s="";r.map(function(t,e){s+=t+"|"}),console.log(s),S.a.payok({open_id:e.openid,img:s,order_id:Object(I.i)("orderId")}).then(function(t){1===t.status?l.a.info(t.msg,1,function(){n.props.history.push("/collection")}):l.a.info(t.msg,1,function(){i.setState({isSubmit:!0})})})},n}return Object(h.a)(e,t),Object(A.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.userM4DStore;t.history;e.getUserStatus()}},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"render",value:function(){var t=this,e=this.props.localeStore.locale.CUSTOMERSERVIXE,n=(this.props.history,this.state),o=n.upImgArr,r=n.imgLoading,i=n.showBigImg,c=n.files,u=(n.reason,n.serviceArr,n.bigSrc),l=(n.hasMore,n.isSubmit),g=!o.length>0||!l;return v.a.createElement("div",{id:"Certificate"},v.a.createElement(E.a,null),v.a.createElement("div",{className:"it_title"},"\u652f\u4ed8\u51ed\u8bc1"),i&&v.a.createElement("div",{onClick:function(){t.setState({showBigImg:!1,bigSrc:""})},className:"big_img"},v.a.createElement("img",{src:u})),v.a.createElement("div",{className:"reason_box"},v.a.createElement("div",{className:"reason_textarea"},"\u8bf7\u63d0\u4ea4\u672c\u6b21\u652f\u4ed8\u7684\u76f8\u5173\u51ed\u8bc1"),v.a.createElement(s.a,{files:c,onChange:this.onChange,onImageClick:function(t,e){return console.log(t,e)},selectable:c.length<3&&!r,multiple:this.state.multiple,length:3,accept:"image/*"}),v.a.createElement("div",{className:"btn-box"},v.a.createElement(a.a,{className:"primary-button",disabled:g||r,onClick:function(){t.onSubmit()}},r&&e.UPLOADING||e.TIJIAO))))}}]),e}(d.Component))||o)||o)||o;e.default=j}}]);
//# sourceMappingURL=44.8d8a6c9c.chunk.js.map